{"remainingRequest":"E:\\WebRoot\\tablex\\tablex\\node_modules\\thread-loader\\dist\\cjs.js??ref--5-1!E:\\WebRoot\\tablex\\tablex\\node_modules\\babel-loader\\lib\\index.js??ref--5-2!E:\\WebRoot\\tablex\\tablex\\node_modules\\source-map-loader\\index.js!E:\\WebRoot\\tablex\\tablex\\src\\base\\body.js","dependencies":[{"path":"E:\\WebRoot\\tablex\\tablex\\src\\base\\body.js","mtime":1559355624898},{"path":"E:\\WebRoot\\tablex\\tablex\\node_modules\\umi-library\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1559355688594},{"path":"E:\\WebRoot\\tablex\\tablex\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1554538856109},{"path":"E:\\WebRoot\\tablex\\tablex\\node_modules\\babel-loader\\lib\\index.js","mtime":1553685910943},{"path":"E:\\WebRoot\\tablex\\tablex\\node_modules\\source-map-loader\\index.js","mtime":1553685912297}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTpcXFdlYlJvb3RcXHRhYmxleFxcdGFibGV4XFxub2RlX21vZHVsZXNcXHVtaS1saWJyYXJ5XFxub2RlX21vZHVsZXNcXGRvY3pcXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICJFOlxcV2ViUm9vdFxcdGFibGV4XFx0YWJsZXhcXG5vZGVfbW9kdWxlc1xcdW1pLWxpYnJhcnlcXG5vZGVfbW9kdWxlc1xcZG9jelxcbm9kZV9tb2R1bGVzXFxiYWJlbC1wcmVzZXQtcmVhY3QtYXBwXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiRTpcXFdlYlJvb3RcXHRhYmxleFxcdGFibGV4XFxub2RlX21vZHVsZXNcXHVtaS1saWJyYXJ5XFxub2RlX21vZHVsZXNcXGRvY3pcXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiRTpcXFdlYlJvb3RcXHRhYmxleFxcdGFibGV4XFxub2RlX21vZHVsZXNcXHVtaS1saWJyYXJ5XFxub2RlX21vZHVsZXNcXGRvY3pcXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiI7CmltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSAiRTpcXFdlYlJvb3RcXHRhYmxleFxcdGFibGV4XFxub2RlX21vZHVsZXNcXHVtaS1saWJyYXJ5XFxub2RlX21vZHVsZXNcXGRvY3pcXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIkU6XFxXZWJSb290XFx0YWJsZXhcXHRhYmxleFxcbm9kZV9tb2R1bGVzXFx1bWktbGlicmFyeVxcbm9kZV9tb2R1bGVzXFxkb2N6XFxub2RlX21vZHVsZXNcXGJhYmVsLXByZXNldC1yZWFjdC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKdmFyIF9qc3hGaWxlTmFtZSA9ICJFOlxcV2ViUm9vdFxcdGFibGV4XFx0YWJsZXhcXHNyY1xcYmFzZVxcYm9keS5qcyI7CgooZnVuY3Rpb24gKCkgewogIHZhciBlbnRlck1vZHVsZSA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmVudGVyTW9kdWxlOwogIGVudGVyTW9kdWxlICYmIGVudGVyTW9kdWxlKG1vZHVsZSk7Cn0pKCk7CgppbXBvcnQgUmVhY3QgZnJvbSAicmVhY3QiOwppbXBvcnQgUHJvcFR5cGVzIGZyb20gInByb3AtdHlwZXMiOwppbXBvcnQgeyBWYXJpYWJsZVNpemVHcmlkIGFzIEdyaWQgfSBmcm9tICJyZWFjdC13aW5kb3ciOwppbXBvcnQgQXV0b1NpemVyIGZyb20gInJlYWN0LXZpcnR1YWxpemVkLWF1dG8tc2l6ZXIiOwppbXBvcnQgTG9hZGluZ0ljb24gZnJvbSAiLi4vY29tcG9uZW50cy9sb2FkaW5nSWNvbiI7Cgp2YXIgVGFibGVCb2R5ID0KLyojX19QVVJFX18qLwpmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkgewogIF9pbmhlcml0cyhUYWJsZUJvZHksIF9SZWFjdCRDb21wb25lbnQpOwoKICBmdW5jdGlvbiBUYWJsZUJvZHkoKSB7CiAgICB2YXIgX2dldFByb3RvdHlwZU9mMjsKCiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYmxlQm9keSk7CgogICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIF9hcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICBfYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgIH0KCiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfZ2V0UHJvdG90eXBlT2YyID0gX2dldFByb3RvdHlwZU9mKFRhYmxlQm9keSkpLmNhbGwuYXBwbHkoX2dldFByb3RvdHlwZU9mMiwgW3RoaXNdLmNvbmNhdChfYXJncykpKTsKICAgIF90aGlzLmdyaWRSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTsKCiAgICBfdGhpcy5nZXRDb2x1bW4gPSBmdW5jdGlvbiAoaW5kZXgpIHsKICAgICAgdmFyIGNvbHVtbkxlYWZzID0gX3RoaXMucHJvcHMuY29sdW1uTGVhZnM7CiAgICAgIHJldHVybiBjb2x1bW5MZWFmc1tpbmRleF07CiAgICB9OwoKICAgIF90aGlzLmdldENvbHVtbldpZHRoID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgY29sdW1uTGVhZnMgPSBfdGhpcy5wcm9wcy5jb2x1bW5MZWFmczsKICAgICAgdmFyIGN3ID0gMDsKICAgICAgY29sdW1uTGVhZnMuZm9yRWFjaChmdW5jdGlvbiAoZCkgewogICAgICAgIGN3ICs9IGQud2lkdGggfHwgMTAwOwogICAgICB9KTsKICAgICAgcmV0dXJuIGN3OwogICAgfTsKCiAgICBfdGhpcy5jb2x1bW5XaWR0aCA9IGZ1bmN0aW9uIChpbmRleCwgd2lkdGgpIHsKICAgICAgdmFyIGNvbHVtbiA9IF90aGlzLmdldENvbHVtbihpbmRleCk7CgogICAgICB2YXIgY3cgPSBfdGhpcy5nZXRDb2x1bW5XaWR0aCgpOwoKICAgICAgdmFyIHN3ID0gX3RoaXMucHJvcHMuc2Nyb2xsYmFyV2lkdGg7CgogICAgICBpZiAoY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIGNvbHVtbi53aWR0aCB8fCAxMDA7CiAgICAgIH0KCiAgICAgIHJldHVybiB3aWR0aCAtIGN3IC0gc3c7CiAgICB9OwoKICAgIF90aGlzLmlzTG9hZGluZ0NoaWxkcmVuID0gZnVuY3Rpb24gKGtleSkgewogICAgICB2YXIgbG9hZGluZ0tleXMgPSBfdGhpcy5wcm9wcy5sb2FkaW5nS2V5czsKICAgICAgcmV0dXJuIGxvYWRpbmdLZXlzLmluZGV4T2Yoa2V5KSA+IC0xOwogICAgfTsKCiAgICBfdGhpcy5leHBhbmRhYmxlRWwgPSBmdW5jdGlvbiAoY29sdW1uSW5kZXgsIHJvd0luZGV4LCByb3cpIHsKICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsCiAgICAgICAgICByb3dJbmRlbnQgPSBfdGhpcyRwcm9wcy5yb3dJbmRlbnQsCiAgICAgICAgICBfdGhpcyRwcm9wcyRleHBhbmRlZEsgPSBfdGhpcyRwcm9wcy5leHBhbmRlZEtleXMsCiAgICAgICAgICBleHBhbmRlZEtleXMgPSBfdGhpcyRwcm9wcyRleHBhbmRlZEsgPT09IHZvaWQgMCA/IFtdIDogX3RoaXMkcHJvcHMkZXhwYW5kZWRLLAogICAgICAgICAgcm93S2V5ID0gX3RoaXMkcHJvcHMucm93S2V5OwogICAgICB2YXIgaW5kZW50ID0gKHJvdy5fX2RlcHRoIHx8IDApICogcm93SW5kZW50OwogICAgICB2YXIga2V5ID0gcm93W3Jvd0tleV07CgogICAgICB2YXIgaXNMb2FkaW5nID0gX3RoaXMuaXNMb2FkaW5nQ2hpbGRyZW4oa2V5KTsKCiAgICAgIHZhciBpc0V4cGFuZCA9IGZhbHNlOwogICAgICB2YXIgaWNvbiA9ICIrIjsKCiAgICAgIGlmIChleHBhbmRlZEtleXMuaW5kZXhPZihrZXkpID4gLTEpIHsKICAgICAgICBpc0V4cGFuZCA9IHRydWU7CiAgICAgICAgaWNvbiA9ICItIjsKICAgICAgfSBlbHNlIHsKICAgICAgICBpc0V4cGFuZCA9IGZhbHNlOwogICAgICAgIGljb24gPSAiKyI7CiAgICAgIH0KCiAgICAgIHZhciBpY29uRmxhZyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICAgICAgY2xhc3NOYW1lOiAidGFibGV4LXJvdy1leHBhbmQtcGxhY2Vob2xkZXIiLAogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogNjgKICAgICAgICB9LAogICAgICAgIF9fc2VsZjogdGhpcwogICAgICB9KTsKCiAgICAgIGlmIChyb3cuY2hpbGRyZW4pIHsKICAgICAgICBpY29uRmxhZyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJ0YWJsZXgtcm93LWV4cGFuZC1pY29uIiwKICAgICAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7CiAgICAgICAgICAgIF90aGlzLnByb3BzLm9uRXhwYW5kQ2hhbmdlKGlzRXhwYW5kLCBrZXkpOwogICAgICAgICAgfSwKICAgICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICAgIGxpbmVOdW1iZXI6IDcyCiAgICAgICAgICB9LAogICAgICAgICAgX19zZWxmOiB0aGlzCiAgICAgICAgfSwgaWNvbik7CiAgICAgIH0KCiAgICAgIGlmIChpc0xvYWRpbmcgPT09IHRydWUpIHsKICAgICAgICBpY29uRmxhZyA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZ0ljb24sIHsKICAgICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICAgIGxpbmVOdW1iZXI6IDg0CiAgICAgICAgICB9LAogICAgICAgICAgX19zZWxmOiB0aGlzCiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChjb2x1bW5JbmRleCA9PT0gMCkgewogICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBpbmRlbnQgPiAwID8gUmVhY3QuY3JlYXRlRWxlbWVudCgic3BhbiIsIHsKICAgICAgICAgIGNsYXNzTmFtZTogInRhYmxleC1yb3ctaW5kZW50IiwKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgIG1hcmdpbkxlZnQ6IGluZGVudAogICAgICAgICAgfSwKICAgICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICAgIGxpbmVOdW1iZXI6IDkxCiAgICAgICAgICB9LAogICAgICAgICAgX19zZWxmOiB0aGlzCiAgICAgICAgfSkgOiBudWxsLCBpY29uRmxhZyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfTsKCiAgICBfdGhpcy5yZW5kZXJDZWxsID0gZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgdmFyIGNvbHVtbkluZGV4ID0gX3JlZi5jb2x1bW5JbmRleCwKICAgICAgICAgIHJvd0luZGV4ID0gX3JlZi5yb3dJbmRleCwKICAgICAgICAgIHN0eWxlID0gX3JlZi5zdHlsZTsKICAgICAgdmFyIGRhdGFTb3VyY2UgPSBfdGhpcy5wcm9wcy5kYXRhU291cmNlOwoKICAgICAgaWYgKGRhdGFTb3VyY2UubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICAgIGxpbmVOdW1iZXI6IDEwNwogICAgICAgICAgfSwKICAgICAgICAgIF9fc2VsZjogdGhpcwogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgY29sdW1uID0gX3RoaXMuZ2V0Q29sdW1uKGNvbHVtbkluZGV4KTsKCiAgICAgIHZhciBhdHRyID0ge307IC8vIGlmIChjb2x1bW5JbmRleD09PTApIHsKICAgICAgLy8gICBhdHRyPXsKICAgICAgLy8gICAgIHBvc2l0aW9uOiJzdGlja3kiLAogICAgICAvLyAgICAgekluZGV4OjEsCiAgICAgIC8vICAgICBsZWZ0OjAKICAgICAgLy8gICB9CiAgICAgIC8vIH0KCiAgICAgIGlmIChjb2x1bW4pIHsKICAgICAgICB2YXIgYyA9IGNvbHVtbi5kYXRhSW5kZXg7CiAgICAgICAgdmFyIHJvdyA9IGRhdGFTb3VyY2Vbcm93SW5kZXhdOwoKICAgICAgICB2YXIgZXhwYW5kYWJsZUVsID0gX3RoaXMuZXhwYW5kYWJsZUVsKGNvbHVtbkluZGV4LCByb3dJbmRleCwgcm93KTsKCiAgICAgICAgdmFyIGNlbGxEYXRhID0gcm93W2NdOwogICAgICAgIHZhciB0YWJsZV9jZWxsID0gbnVsbDsKCiAgICAgICAgaWYgKHR5cGVvZiBjb2x1bW4ucmVuZGVyID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICB0YWJsZV9jZWxsID0gUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJ0YWJsZXgtY2VsbCIsCiAgICAgICAgICAgIHN0eWxlOiBzdHlsZSwKICAgICAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgICAgIGxpbmVOdW1iZXI6IDEzNAogICAgICAgICAgICB9LAogICAgICAgICAgICBfX3NlbGY6IHRoaXMKICAgICAgICAgIH0sIGV4cGFuZGFibGVFbCwgIiAiLCBjb2x1bW4ucmVuZGVyKGNlbGxEYXRhLCByb3csIHJvd0luZGV4KSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRhYmxlX2NlbGwgPSBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICAgIGNsYXNzTmFtZTogInRhYmxleC1jZWxsIiwKICAgICAgICAgICAgc3R5bGU6IF9vYmplY3RTcHJlYWQoe30sIHN0eWxlLCBhdHRyKSwKICAgICAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgICAgIGxpbmVOdW1iZXI6IDE0MAogICAgICAgICAgICB9LAogICAgICAgICAgICBfX3NlbGY6IHRoaXMKICAgICAgICAgIH0sIGV4cGFuZGFibGVFbCwgY2VsbERhdGEpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRhYmxlX2NlbGw7CiAgICAgIH0KCiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAidGFibGV4LWNlbGwiLAogICAgICAgIHN0eWxlOiBfb2JqZWN0U3ByZWFkKHt9LCBzdHlsZSwgewogICAgICAgICAgYm9yZGVyUmlnaHQ6ICJub25lIgogICAgICAgIH0pLAogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogMTUxCiAgICAgICAgfSwKICAgICAgICBfX3NlbGY6IHRoaXMKICAgICAgfSk7CiAgICB9OwoKICAgIF90aGlzLnJlbmRlclJvdyA9IGZ1bmN0aW9uIChfcmVmMikgewogICAgICB2YXIgaW5kZXggPSBfcmVmMi5pbmRleCwKICAgICAgICAgIHN0eWxlID0gX3JlZjIuc3R5bGU7CiAgICAgIGNvbnNvbGUubG9nKCJyZW5kZXJSb3ciKTsKICAgICAgdmFyIGNvbHVtbnMgPSBfdGhpcy5wcm9wcy5jb2x1bW5zIHx8IFtdOwogICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIGNsYXNzTmFtZTogInRhYmxleC1yb3ciLAogICAgICAgIHN0eWxlOiBfb2JqZWN0U3ByZWFkKHt9LCBzdHlsZSksCiAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICBsaW5lTnVtYmVyOiAxNTkKICAgICAgICB9LAogICAgICAgIF9fc2VsZjogdGhpcwogICAgICB9LCBjb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sdW1uLCBjb2x1bW5JbmRleCkgewogICAgICAgIHJldHVybiBfdGhpcy5yZW5kZXJDZWxsKHsKICAgICAgICAgIGNvbHVtbkluZGV4OiBjb2x1bW5JbmRleCwKICAgICAgICAgIHJvd0luZGV4OiBpbmRleCwKICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgIGRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAogICAgICAgICAgICB3aWR0aDogY29sdW1uLndpZHRoCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pKTsKICAgIH07CgogICAgX3RoaXMucmVuZGVyUm93MiA9IGZ1bmN0aW9uIChhcmdzKSB7CiAgICAgIGNvbnNvbGUubG9nKCJyZW5kZXJSb3c6IiwgYXJncyk7CiAgICAgIHZhciBjb2x1bW5zID0gX3RoaXMucHJvcHMuY29sdW1ucyB8fCBbXTsKICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgIGxpbmVOdW1iZXI6IDE3NgogICAgICAgIH0sCiAgICAgICAgX19zZWxmOiB0aGlzCiAgICAgIH0sIGFyZ3Mucm93SW5kZXgsICIsIiwgYXJncy5jb2x1bW5JbmRleCk7CiAgICB9OwoKICAgIF90aGlzLnNjcm9sbFRvID0gZnVuY3Rpb24gKHBvcykgewogICAgICBfdGhpcy5ncmlkUmVmLmN1cnJlbnQgJiYgX3RoaXMuZ3JpZFJlZi5jdXJyZW50LnNjcm9sbFRvKHBvcyk7CiAgICB9OwoKICAgIF90aGlzLm9uU2Nyb2xsID0gZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgIHZhciBzY3JvbGxMZWZ0ID0gX3JlZjMuc2Nyb2xsTGVmdCwKICAgICAgICAgIHNjcm9sbFRvcCA9IF9yZWYzLnNjcm9sbFRvcDsKICAgICAgY29uc29sZS5sb2coIm9uU2Nyb2xsOiIpOwoKICAgICAgaWYgKHR5cGVvZiBfdGhpcy5wcm9wcy5vblNjcm9sbCA9PT0gImZ1bmN0aW9uIikgewogICAgICAgIF90aGlzLnByb3BzLm9uU2Nyb2xsKHsKICAgICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsCiAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcAogICAgICAgIH0pOwogICAgICB9CiAgICB9OwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhUYWJsZUJvZHksIFt7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcywKICAgICAgICAgIGNvbHVtbnMgPSBfdGhpcyRwcm9wczIuY29sdW1ucywKICAgICAgICAgIGNvbHVtbkxlYWZzID0gX3RoaXMkcHJvcHMyLmNvbHVtbkxlYWZzLAogICAgICAgICAgZGF0YVNvdXJjZSA9IF90aGlzJHByb3BzMi5kYXRhU291cmNlLAogICAgICAgICAgc3R5bGUgPSBfdGhpcyRwcm9wczIuc3R5bGU7CiAgICAgIHZhciBjb2x1bW5XaWR0aCA9IDA7CiAgICAgIGNvbHVtbkxlYWZzLmZvckVhY2goZnVuY3Rpb24gKGQpIHsKICAgICAgICBjb2x1bW5XaWR0aCArPSBkLndpZHRoIHx8IDEwMDsKICAgICAgfSk7CiAgICAgIHZhciByb3dDb3VudCA9IGRhdGFTb3VyY2UubGVuZ3RoOwogICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChBdXRvU2l6ZXIsIHsKICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgIGxpbmVOdW1iZXI6IDIwMAogICAgICAgIH0sCiAgICAgICAgX19zZWxmOiB0aGlzCiAgICAgIH0sIGZ1bmN0aW9uIChfcmVmNCkgewogICAgICAgIHZhciBoZWlnaHQgPSBfcmVmNC5oZWlnaHQsCiAgICAgICAgICAgIHdpZHRoID0gX3JlZjQud2lkdGg7CiAgICAgICAgdmFyIGxlbiA9IGNvbHVtbkxlYWZzLmxlbmd0aDsKCiAgICAgICAgaWYgKHdpZHRoID4gY29sdW1uV2lkdGgpIHsKICAgICAgICAgIGxlbiA9IGxlbiArIDE7CiAgICAgICAgfQoKICAgICAgICBpZiAoZGF0YVNvdXJjZS5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHJvd0NvdW50ID0gMTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KEdyaWQsIHsKICAgICAgICAgIHN0eWxlOiBfb2JqZWN0U3ByZWFkKHt9LCBzdHlsZSksCiAgICAgICAgICBjb2x1bW5Db3VudDogbGVuLAogICAgICAgICAgY29sdW1uV2lkdGg6IGZ1bmN0aW9uIGNvbHVtbldpZHRoKGkpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5jb2x1bW5XaWR0aChpLCB3aWR0aCk7CiAgICAgICAgICB9LAogICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsCiAgICAgICAgICByb3dDb3VudDogcm93Q291bnQsCiAgICAgICAgICByb3dIZWlnaHQ6IGZ1bmN0aW9uIHJvd0hlaWdodCgpIHsKICAgICAgICAgICAgcmV0dXJuIDM1OwogICAgICAgICAgfSwKICAgICAgICAgIHdpZHRoOiB3aWR0aCwKICAgICAgICAgIG9uU2Nyb2xsOiBfdGhpczIub25TY3JvbGwsCiAgICAgICAgICByZWY6IF90aGlzMi5ncmlkUmVmLAogICAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgICAgbGluZU51bWJlcjogMjE0CiAgICAgICAgICB9LAogICAgICAgICAgX19zZWxmOiB0aGlzCiAgICAgICAgfSwgX3RoaXMyLnJlbmRlckNlbGwpKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiX19yZWFjdHN0YW5kaW5fX3JlZ2VuZXJhdGVCeUV2YWwiLAogICAgLy8gQHRzLWlnbm9yZQogICAgdmFsdWU6IGZ1bmN0aW9uIF9fcmVhY3RzdGFuZGluX19yZWdlbmVyYXRlQnlFdmFsKGtleSwgY29kZSkgewogICAgICAvLyBAdHMtaWdub3JlCiAgICAgIHRoaXNba2V5XSA9IGV2YWwoY29kZSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gVGFibGVCb2R5Owp9KFJlYWN0LkNvbXBvbmVudCk7CgpUYWJsZUJvZHkuZGVmYXVsdFByb3BzID0gewogIGNvbHVtbnM6IFtdLAogIGNvbHVtbkxlYWZzOiBbXSwKICBkYXRhU291cmNlOiBbXSwKICByb3dJbmRlbnQ6IDIwLAogIGV4cGFuZGVkS2V5czogW10sCiAgbG9hZGluZ0tleXM6IFtdLAogIHNjcm9sbGJhcldpZHRoOiA2Cn07ClRhYmxlQm9keS5wcm9wVHlwZXMgPSB7CiAgLyoqDQogICAqIOS4u+imgeeUqOS6juihjOWxleW8gA0KICAgKi8KICByb3dLZXk6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwKICBjb2x1bW5zOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCwKICBjb2x1bW5MZWFmczogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsCiAgZGF0YVNvdXJjZTogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsCiAgb25TY3JvbGw6IFByb3BUeXBlcy5mdW5jLAoKICAvKioNCiAgICogQGlzRXhwYW5kIOaYr+WQpuWxleW8gA0KICAgKiBAa2V5IOWPl+W9seWTjeeahOihjOaVsOaNrmtleQ0KICAgKi8KICBvbkV4cGFuZENoYW5nZTogUHJvcFR5cGVzLmZ1bmMsCiAgcm93SW5kZW50OiBQcm9wVHlwZXMubnVtYmVyLAogIGV4cGFuZGVkS2V5czogUHJvcFR5cGVzLmFycmF5LAogIGxvYWRpbmdLZXlzOiBQcm9wVHlwZXMuYXJyYXksCiAgc2Nyb2xsYmFyV2lkdGg6IFByb3BUeXBlcy5udW1iZXIKfTsKdmFyIF9kZWZhdWx0ID0gVGFibGVCb2R5OwpleHBvcnQgZGVmYXVsdCBfZGVmYXVsdDsKCmlmICh0eXBlb2YgVGFibGVCb2R5ICE9PSAndW5kZWZpbmVkJyAmJiBUYWJsZUJvZHkgJiYgVGFibGVCb2R5ID09PSBPYmplY3QoVGFibGVCb2R5KSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKFRhYmxlQm9keSkpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFibGVCb2R5LCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiVGFibGVCb2R5IiwKICAgICAgZmlsZW5hbWU6ICJzcmNcXGJhc2VcXGJvZHkuanMiCiAgICB9CiAgfSk7Cn0KCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIHJlYWN0SG90TG9hZGVyID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkuZGVmYXVsdDsKCiAgaWYgKCFyZWFjdEhvdExvYWRlcikgewogICAgcmV0dXJuOwogIH0KCiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoVGFibGVCb2R5LCAiVGFibGVCb2R5IiwgIkU6XFxXZWJSb290XFx0YWJsZXhcXHRhYmxleFxcc3JjXFxiYXNlXFxib2R5LmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoX2RlZmF1bHQsICJkZWZhdWx0IiwgIkU6XFxXZWJSb290XFx0YWJsZXhcXHRhYmxleFxcc3JjXFxiYXNlXFxib2R5LmpzIik7Cn0pKCk7Cgo7CgooZnVuY3Rpb24gKCkgewogIHZhciBsZWF2ZU1vZHVsZSA9ICh0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWwgOiByZXF1aXJlKCdyZWFjdC1ob3QtbG9hZGVyJykpLmxlYXZlTW9kdWxlOwogIGxlYXZlTW9kdWxlICYmIGxlYXZlTW9kdWxlKG1vZHVsZSk7Cn0pKCk7"},{"version":3,"sources":["E:\\WebRoot\\tablex\\tablex\\src\\base\\body.js"],"names":["React","PropTypes","VariableSizeGrid","Grid","AutoSizer","LoadingIcon","TableBody","gridRef","createRef","getColumn","index","columnLeafs","props","getColumnWidth","cw","forEach","d","width","columnWidth","column","sw","scrollbarWidth","isLoadingChildren","key","loadingKeys","indexOf","expandableEl","columnIndex","rowIndex","row","rowIndent","expandedKeys","rowKey","indent","__depth","isLoading","isExpand","icon","iconFlag","children","onExpandChange","marginLeft","renderCell","style","dataSource","length","attr","c","dataIndex","cellData","table_cell","render","borderRight","renderRow","console","log","columns","map","display","renderRow2","args","scrollTo","pos","current","onScroll","scrollLeft","scrollTop","rowCount","height","len","i","Component","defaultProps","propTypes","string","isRequired","array","func","number"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { VariableSizeGrid as Grid } from \"react-window\";\r\nimport AutoSizer from \"react-virtualized-auto-sizer\";\r\nimport LoadingIcon from \"../components/loadingIcon\";\r\n\r\nclass TableBody extends React.Component {\r\n  gridRef = React.createRef();\r\n\r\n  getColumn = index => {\r\n    let { columnLeafs } = this.props;\r\n\r\n    return columnLeafs[index];\r\n  };\r\n\r\n  getColumnWidth = () => {\r\n    let { columnLeafs } = this.props;\r\n\r\n    let cw = 0;\r\n    columnLeafs.forEach(d => {\r\n      cw += d.width || 100;\r\n    });\r\n\r\n    return cw;\r\n  };\r\n\r\n  columnWidth = (index, width) => {\r\n    let column = this.getColumn(index);\r\n    let cw = this.getColumnWidth();\r\n    let sw = this.props.scrollbarWidth;\r\n\r\n    if (column) {\r\n      return column.width || 100;\r\n    }\r\n\r\n    return width - cw - sw;\r\n  };\r\n\r\n  /**\r\n   * 行是否正在加载子级\r\n   */\r\n  isLoadingChildren = key => {\r\n    let { loadingKeys } = this.props;\r\n\r\n    return loadingKeys.indexOf(key) > -1;\r\n  };\r\n\r\n  expandableEl = (columnIndex, rowIndex, row) => {\r\n    let { rowIndent, expandedKeys = [], rowKey } = this.props;\r\n\r\n    let indent = (row.__depth || 0) * rowIndent;\r\n\r\n    let key = row[rowKey];\r\n\r\n    let isLoading = this.isLoadingChildren(key);\r\n\r\n    let isExpand = false;\r\n    let icon = \"+\";\r\n\r\n    if (expandedKeys.indexOf(key) > -1) {\r\n      isExpand = true;\r\n      icon = \"-\";\r\n    } else {\r\n      isExpand = false;\r\n      icon = \"+\";\r\n    }\r\n\r\n    let iconFlag = <span className=\"tablex-row-expand-placeholder\" />;\r\n\r\n    if (row.children) {\r\n      iconFlag = (\r\n        <span\r\n          className=\"tablex-row-expand-icon\"\r\n          onClick={() => {\r\n            this.props.onExpandChange(isExpand, key);\r\n          }}\r\n        >\r\n          {icon}\r\n        </span>\r\n      );\r\n    }\r\n\r\n    if (isLoading === true) {\r\n      iconFlag = <LoadingIcon />;\r\n    }\r\n\r\n    if (columnIndex === 0) {\r\n      return (\r\n        <>\r\n          {indent > 0 ? (\r\n            <span\r\n              className=\"tablex-row-indent\"\r\n              style={{ marginLeft: indent }}\r\n            />\r\n          ) : null}\r\n          {iconFlag}\r\n        </>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  renderCell = ({ columnIndex, rowIndex, style }) => {\r\n    let { dataSource } = this.props;\r\n\r\n    if (dataSource.length === 0) {\r\n      return <div />;\r\n    }\r\n\r\n    let column = this.getColumn(columnIndex);\r\n\r\n    let attr = {};\r\n\r\n    // if (columnIndex===0) {\r\n    //   attr={\r\n    //     position:\"sticky\",\r\n    //     zIndex:1,\r\n    //     left:0\r\n    //   }\r\n    // }\r\n\r\n    if (column) {\r\n      let c = column.dataIndex;\r\n      let row = dataSource[rowIndex];\r\n\r\n      let expandableEl = this.expandableEl(columnIndex, rowIndex, row);\r\n\r\n      let cellData = row[c];\r\n\r\n      let table_cell = null;\r\n\r\n      if (typeof column.render === \"function\") {\r\n        table_cell = (\r\n          <div className=\"tablex-cell\" style={style}>\r\n            {expandableEl} {column.render(cellData, row, rowIndex)}\r\n          </div>\r\n        );\r\n      } else {\r\n        table_cell = (\r\n          <div className=\"tablex-cell\" style={{ ...style, ...attr }}>\r\n            {expandableEl}\r\n            {cellData}\r\n          </div>\r\n        );\r\n      }\r\n\r\n      return table_cell;\r\n    }\r\n\r\n    return (\r\n      <div className=\"tablex-cell\" style={{ ...style, borderRight: \"none\" }} />\r\n    );\r\n  };\r\n\r\n  renderRow = ({ index, style }) => {\r\n    console.log(\"renderRow\")\r\n    let columns = this.props.columns || [];\r\n    return (\r\n      <div className=\"tablex-row\" style={{ ...style }}>\r\n        {columns.map((column, columnIndex) => {\r\n          return this.renderCell({\r\n            columnIndex,\r\n            rowIndex: index,\r\n            style: { display: \"inline-block\", width: column.width }\r\n          });\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n\r\n  \r\n  renderRow2 = (args) => {\r\n    console.log(\"renderRow:\",args)\r\n    let columns = this.props.columns || [];\r\n    return <div>{args.rowIndex},{args.columnIndex}</div>\r\n  };\r\n\r\n  scrollTo = pos => {\r\n    this.gridRef.current && this.gridRef.current.scrollTo(pos);\r\n  };\r\n\r\n  onScroll = ({ scrollLeft, scrollTop }) => {\r\n    console.log(\"onScroll:\");\r\n    if (typeof this.props.onScroll === \"function\") {\r\n      this.props.onScroll({ scrollLeft, scrollTop });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let { columns, columnLeafs, dataSource, style } = this.props;\r\n    let columnWidth = 0;\r\n    columnLeafs.forEach(d => {\r\n      columnWidth += d.width || 100;\r\n    });\r\n\r\n    let rowCount = dataSource.length;\r\n\r\n    return (\r\n      <AutoSizer>\r\n        {({ height, width }) => {\r\n          let len = columnLeafs.length;\r\n\r\n          if (width > columnWidth) {\r\n            len = len + 1;\r\n          }\r\n\r\n          if (dataSource.length === 0) {\r\n            rowCount = 1;\r\n          }\r\n\r\n          return (\r\n            <>\r\n              <Grid\r\n                style={{ ...style }}\r\n                columnCount={len}\r\n                columnWidth={i => this.columnWidth(i, width)}\r\n                height={height}\r\n                rowCount={rowCount}\r\n                rowHeight={() => 35}\r\n                width={width}\r\n                onScroll={this.onScroll}\r\n                ref={this.gridRef}\r\n              >\r\n                {this.renderCell}\r\n              </Grid>\r\n            </>\r\n          );\r\n        }}\r\n      </AutoSizer>\r\n    );\r\n  }\r\n}\r\n\r\nTableBody.defaultProps = {\r\n  columns: [],\r\n  columnLeafs: [],\r\n  dataSource: [],\r\n  rowIndent: 20,\r\n  expandedKeys: [],\r\n  loadingKeys: [],\r\n  scrollbarWidth: 6\r\n};\r\n\r\nTableBody.propTypes = {\r\n  /**\r\n   * 主要用于行展开\r\n   */\r\n  rowKey: PropTypes.string.isRequired,\r\n  columns: PropTypes.array.isRequired,\r\n  columnLeafs: PropTypes.array.isRequired,\r\n  dataSource: PropTypes.array.isRequired,\r\n  onScroll: PropTypes.func,\r\n\r\n  /**\r\n   * @isExpand 是否展开\r\n   * @key 受影响的行数据key\r\n   */\r\n  onExpandChange: PropTypes.func,\r\n  rowIndent: PropTypes.number,\r\n  expandedKeys: PropTypes.array,\r\n  loadingKeys: PropTypes.array,\r\n  scrollbarWidth: PropTypes.number\r\n};\r\n\r\nexport default TableBody;\r\n"]}]}