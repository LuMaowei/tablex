{"remainingRequest":"E:\\WebRoot\\tablex\\tablex\\node_modules\\thread-loader\\dist\\cjs.js??ref--5-1!E:\\WebRoot\\tablex\\tablex\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js??ref--5-2!E:\\WebRoot\\tablex\\tablex\\node_modules\\source-map-loader\\index.js!E:\\WebRoot\\tablex\\tablex\\src\\base\\fixedBody.js","dependencies":[{"path":"E:\\WebRoot\\tablex\\tablex\\src\\base\\fixedBody.js","mtime":1559355624899},{"path":"E:\\WebRoot\\tablex\\tablex\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1553685911267},{"path":"E:\\WebRoot\\tablex\\tablex\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1554538856109},{"path":"E:\\WebRoot\\tablex\\tablex\\node_modules\\docz-core\\node_modules\\babel-loader\\lib\\index.js","mtime":1553685910943},{"path":"E:\\WebRoot\\tablex\\tablex\\node_modules\\source-map-loader\\index.js","mtime":1553685912297}],"contextDependencies":[],"result":["import _defineProperty from \"E:\\\\WebRoot\\\\tablex\\\\tablex\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"E:\\\\WebRoot\\\\tablex\\\\tablex\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\WebRoot\\\\tablex\\\\tablex\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\WebRoot\\\\tablex\\\\tablex\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\WebRoot\\\\tablex\\\\tablex\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\WebRoot\\\\tablex\\\\tablex\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\WebRoot\\\\tablex\\\\tablex\\\\src\\\\base\\\\fixedBody.js\";\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport TableBody from \"./body\";\nimport { treeToList } from \"../helper\";\n\nvar TableBodyWithFixed =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(TableBodyWithFixed, _React$Component);\n\n  function TableBodyWithFixed() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TableBodyWithFixed);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TableBodyWithFixed)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.getColumns = function (arr) {\n      var DEFAULT_COLUMN_WIDTH = 100;\n      var left = [];\n      var leftWidth = 0;\n      var middle = [];\n      var middleWidth = 0;\n      var right = [];\n      var rightWidth = 0;\n\n      for (var i = 0; i < arr.length; i++) {\n        var d = arr[i];\n\n        if (d.fixed === \"left\") {\n          left.push(d);\n        } else if (d.fixed === \"right\") {\n          right.push(d);\n        } else {\n          middle.push(d);\n        }\n      }\n\n      var _treeToList = treeToList(left),\n          leftColumnLeafs = _treeToList.leafs;\n\n      var _treeToList2 = treeToList(middle),\n          middleColumnLeafs = _treeToList2.leafs;\n\n      var _treeToList3 = treeToList(right),\n          rightColumnLeafs = _treeToList3.leafs;\n\n      leftColumnLeafs.forEach(function (d) {\n        leftWidth = leftWidth + (d.width || DEFAULT_COLUMN_WIDTH);\n      });\n      middleColumnLeafs.forEach(function (d) {\n        middleWidth = middleWidth + (d.width || DEFAULT_COLUMN_WIDTH);\n      });\n      rightColumnLeafs.forEach(function (d) {\n        rightWidth = rightWidth + (d.width || DEFAULT_COLUMN_WIDTH);\n      });\n      return {\n        leftColumns: left,\n        leftColumnLeafs: leftColumnLeafs,\n        leftColumnsWidth: leftWidth,\n        middleColumns: middle,\n        middleColumnsWidth: middleWidth,\n        middleColumnLeafs: middleColumnLeafs,\n        rightColumns: right,\n        rightColumnsWidth: rightWidth,\n        rightColumnLeafs: rightColumnLeafs\n      };\n    };\n\n    _this.scrollTop = 0;\n\n    _this.onMiddleScroll = function (_ref) {\n      var scrollLeft = _ref.scrollLeft,\n          scrollTop = _ref.scrollTop;\n      _this.scrollTop = scrollTop;\n\n      _this.refs.leftTable.scrollTo({\n        scrollLeft: 0,\n        scrollTop: scrollTop\n      });\n\n      _this.refs.rightTable && _this.refs.rightTable.scrollTo({\n        scrollLeft: 0,\n        scrollTop: scrollTop\n      });\n\n      if (typeof _this.props.onScroll === \"function\") {\n        _this.props.onScroll({\n          scrollLeft: scrollLeft,\n          scrollTop: scrollTop\n        });\n      }\n    };\n\n    _this.onSideScroll = function (_ref2) {\n      var scrollLeft = _ref2.scrollLeft,\n          scrollTop = _ref2.scrollTop;\n      _this.scrollTop = scrollTop;\n\n      _this.refs.middleTable.scrollTo({\n        scrollTop: scrollTop\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(TableBodyWithFixed, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          columns = _this$props.columns,\n          columnLeafs = _this$props.columnLeafs,\n          onScroll = _this$props.onScroll,\n          rowKey = _this$props.rowKey,\n          dataSource = _this$props.dataSource,\n          onExpandChange = _this$props.onExpandChange,\n          expandedKeys = _this$props.expandedKeys,\n          loadingKeys = _this$props.loadingKeys,\n          scrollbarWidth = _this$props.scrollbarWidth;\n\n      var _this$getColumns = this.getColumns(columns),\n          leftColumns = _this$getColumns.leftColumns,\n          leftColumnsWidth = _this$getColumns.leftColumnsWidth,\n          leftColumnLeafs = _this$getColumns.leftColumnLeafs,\n          middleColumns = _this$getColumns.middleColumns,\n          middleColumnsWidth = _this$getColumns.middleColumnsWidth,\n          middleColumnLeafs = _this$getColumns.middleColumnLeafs,\n          rightColumns = _this$getColumns.rightColumns,\n          rightColumnsWidth = _this$getColumns.rightColumnsWidth,\n          rightColumnLeafs = _this$getColumns.rightColumnLeafs;\n\n      var attrs = {\n        rowKey: rowKey,\n        dataSource: dataSource,\n        onExpandChange: onExpandChange,\n        expandedKeys: expandedKeys,\n        loadingKeys: loadingKeys,\n        scrollbarWidth: scrollbarWidth\n      };\n      var bodyStyles = {\n        height: \"100%\"\n      };\n      var hasRight = rightColumns.length > 0;\n\n      if (hasRight === true) {\n        bodyStyles.width = \"calc(100% + 6px)\";\n      }\n\n      var totalHeight = dataSource.length * 35;\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"tablex-body-left\",\n        style: {\n          width: leftColumnsWidth,\n          marginBottom: scrollbarWidth,\n          overflow: \"hidden\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"tablex-body-scroll\",\n        style: _defineProperty({\n          width: leftColumnsWidth,\n          height: \"100%\"\n        }, \"width\", \"calc(100% + 6px)\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(TableBody, Object.assign({}, attrs, {\n        columns: leftColumns,\n        columnLeafs: leftColumnLeafs,\n        style: {\n          overflowX: \"hidden\"\n        },\n        ref: \"leftTable\",\n        onScroll: this.onSideScroll,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"tablex-body-middle\",\n        ref: \"middleRef\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"tablex-body-scroll\",\n        style: bodyStyles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(TableBody, Object.assign({}, attrs, {\n        columns: middleColumns,\n        columnLeafs: middleColumnLeafs,\n        onScroll: this.onMiddleScroll,\n        ref: \"middleTable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      })))), hasRight ? React.createElement(\"div\", {\n        className: \"tablex-body-right\",\n        style: {\n          width: rightColumnsWidth,\n          marginBottom: scrollbarWidth\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(TableBody, Object.assign({}, attrs, {\n        columns: rightColumns,\n        columnLeafs: rightColumnLeafs,\n        style: {\n          overflowX: \"hidden\"\n        },\n        onScroll: this.onSideScroll,\n        ref: \"rightTable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }))) : null);\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return TableBodyWithFixed;\n}(React.Component);\n\nvar _default = TableBodyWithFixed;\nexport default _default;\n\nif (typeof TableBodyWithFixed !== 'undefined' && TableBodyWithFixed && TableBodyWithFixed === Object(TableBodyWithFixed) && Object.isExtensible(TableBodyWithFixed)) {\n  Object.defineProperty(TableBodyWithFixed, '__filemeta', {\n    enumerable: true,\n    configurable: true,\n    value: {\n      name: \"TableBodyWithFixed\",\n      filename: \"src\\\\base\\\\fixedBody.js\"\n    }\n  });\n}\n\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(TableBodyWithFixed, \"TableBodyWithFixed\", \"E:\\\\WebRoot\\\\tablex\\\\tablex\\\\src\\\\base\\\\fixedBody.js\");\n  reactHotLoader.register(_default, \"default\", \"E:\\\\WebRoot\\\\tablex\\\\tablex\\\\src\\\\base\\\\fixedBody.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();",{"version":3,"sources":["E:\\WebRoot\\tablex\\tablex\\src\\base\\fixedBody.js"],"names":["React","PropTypes","TableBody","treeToList","TableBodyWithFixed","getColumns","arr","DEFAULT_COLUMN_WIDTH","left","leftWidth","middle","middleWidth","right","rightWidth","i","length","d","fixed","push","leftColumnLeafs","leafs","middleColumnLeafs","rightColumnLeafs","forEach","width","leftColumns","leftColumnsWidth","middleColumns","middleColumnsWidth","rightColumns","rightColumnsWidth","scrollTop","onMiddleScroll","scrollLeft","refs","leftTable","scrollTo","rightTable","props","onScroll","onSideScroll","middleTable","columns","columnLeafs","rowKey","dataSource","onExpandChange","expandedKeys","loadingKeys","scrollbarWidth","attrs","bodyStyles","height","hasRight","totalHeight","marginBottom","overflow","overflowX","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport TableBody from \"./body\";\r\nimport { treeToList } from \"../helper\";\r\n\r\nclass TableBodyWithFixed extends React.Component {\r\n  getColumns = arr => {\r\n    let DEFAULT_COLUMN_WIDTH = 100;\r\n\r\n    let left = [];\r\n    let leftWidth = 0;\r\n\r\n    let middle = [];\r\n    let middleWidth = 0;\r\n\r\n    let right = [];\r\n    let rightWidth = 0;\r\n\r\n    for (let i = 0; i < arr.length; i++) {\r\n      const d = arr[i];\r\n\r\n      if (d.fixed === \"left\") {\r\n        left.push(d);\r\n      } else if (d.fixed === \"right\") {\r\n        right.push(d);\r\n      } else {\r\n        middle.push(d);\r\n      }\r\n    }\r\n\r\n    let { leafs: leftColumnLeafs } = treeToList(left);\r\n    let { leafs: middleColumnLeafs } = treeToList(middle);\r\n    let { leafs: rightColumnLeafs } = treeToList(right);\r\n\r\n    leftColumnLeafs.forEach(d => {\r\n      leftWidth = leftWidth + (d.width || DEFAULT_COLUMN_WIDTH);\r\n    });\r\n\r\n    middleColumnLeafs.forEach(d => {\r\n      middleWidth = middleWidth + (d.width || DEFAULT_COLUMN_WIDTH);\r\n    });\r\n\r\n    rightColumnLeafs.forEach(d => {\r\n      rightWidth = rightWidth + (d.width || DEFAULT_COLUMN_WIDTH);\r\n    });\r\n\r\n    return {\r\n      leftColumns: left,\r\n      leftColumnLeafs,\r\n      leftColumnsWidth: leftWidth,\r\n      middleColumns: middle,\r\n      middleColumnsWidth: middleWidth,\r\n      middleColumnLeafs,\r\n      rightColumns: right,\r\n      rightColumnsWidth: rightWidth,\r\n      rightColumnLeafs\r\n    };\r\n  };\r\n\r\n  scrollTop = 0;\r\n  onMiddleScroll = ({ scrollLeft, scrollTop }) => {\r\n    this.scrollTop = scrollTop;\r\n\r\n    this.refs.leftTable.scrollTo({ scrollLeft: 0, scrollTop });\r\n    this.refs.rightTable &&\r\n      this.refs.rightTable.scrollTo({ scrollLeft: 0, scrollTop });\r\n\r\n    if (typeof this.props.onScroll === \"function\") {\r\n      this.props.onScroll({ scrollLeft, scrollTop });\r\n    }\r\n  };\r\n\r\n  onSideScroll = ({ scrollLeft, scrollTop }) => {\r\n    this.scrollTop = scrollTop;\r\n\r\n    this.refs.middleTable.scrollTo({ scrollTop });\r\n  };\r\n\r\n  componentDidMount() {}\r\n\r\n  render() {\r\n    let {\r\n      columns,\r\n      columnLeafs,\r\n      onScroll,\r\n      rowKey,\r\n      dataSource,\r\n      onExpandChange,\r\n      expandedKeys,\r\n      loadingKeys,\r\n      scrollbarWidth\r\n    } = this.props;\r\n\r\n    let {\r\n      leftColumns,\r\n      leftColumnsWidth,\r\n      leftColumnLeafs,\r\n      middleColumns,\r\n      middleColumnsWidth,\r\n      middleColumnLeafs,\r\n      rightColumns,\r\n      rightColumnsWidth,\r\n      rightColumnLeafs\r\n    } = this.getColumns(columns);\r\n\r\n    let attrs = {\r\n      rowKey,\r\n      dataSource,\r\n      onExpandChange,\r\n      expandedKeys,\r\n      loadingKeys,\r\n      scrollbarWidth\r\n    };\r\n\r\n    let bodyStyles = { height: \"100%\" };\r\n\r\n    let hasRight = rightColumns.length > 0;\r\n\r\n    if (hasRight === true) {\r\n      bodyStyles.width = \"calc(100% + 6px)\";\r\n    }\r\n\r\n    let totalHeight = dataSource.length * 35;\r\n\r\n    return (\r\n      <>\r\n        <div\r\n          className=\"tablex-body-left\"\r\n          style={{\r\n            width: leftColumnsWidth,\r\n            marginBottom: scrollbarWidth,\r\n            overflow: \"hidden\"\r\n          }}\r\n        >\r\n          <div\r\n            className=\"tablex-body-scroll\"\r\n            style={{\r\n              width: leftColumnsWidth,\r\n              height: \"100%\",\r\n              width: \"calc(100% + 6px)\"\r\n            }}\r\n          >\r\n            <TableBody\r\n              {...attrs}\r\n              columns={leftColumns}\r\n              columnLeafs={leftColumnLeafs}\r\n              style={{ overflowX: \"hidden\" }}\r\n              ref=\"leftTable\"\r\n              onScroll={this.onSideScroll}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"tablex-body-middle\" ref=\"middleRef\">\r\n          <div className=\"tablex-body-scroll\" style={bodyStyles}>\r\n            <TableBody\r\n              {...attrs}\r\n              columns={middleColumns}\r\n             \r\n              columnLeafs={middleColumnLeafs}\r\n              onScroll={this.onMiddleScroll}\r\n              ref=\"middleTable\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {hasRight ? (\r\n          <div\r\n            className=\"tablex-body-right\"\r\n            style={{ width: rightColumnsWidth, marginBottom: scrollbarWidth }}\r\n          >\r\n            <TableBody\r\n              {...attrs}\r\n              columns={rightColumns}\r\n              columnLeafs={rightColumnLeafs}\r\n              style={{ overflowX: \"hidden\" }}\r\n              onScroll={this.onSideScroll}\r\n              ref=\"rightTable\"\r\n            />\r\n          </div>\r\n        ) : null}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TableBodyWithFixed;\r\n"]}]}