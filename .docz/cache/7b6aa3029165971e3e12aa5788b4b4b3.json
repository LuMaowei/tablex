{"remainingRequest":"E:\\WebRoot\\tablex\\node_modules\\thread-loader\\dist\\cjs.js??ref--5-1!E:\\WebRoot\\tablex\\node_modules\\babel-loader\\lib\\index.js??ref--5-2!E:\\WebRoot\\tablex\\node_modules\\source-map-loader\\index.js!E:\\WebRoot\\tablex\\src\\base\\body.js","dependencies":[{"path":"E:\\WebRoot\\tablex\\src\\base\\body.js","mtime":1559209907565},{"path":"E:\\WebRoot\\tablex\\node_modules\\umi-library\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1559204841349},{"path":"E:\\WebRoot\\tablex\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1554780430526},{"path":"E:\\WebRoot\\tablex\\node_modules\\babel-loader\\lib\\index.js","mtime":1551944504366},{"path":"E:\\WebRoot\\tablex\\node_modules\\source-map-loader\\index.js","mtime":1551944506105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTpcXFdlYlJvb3RcXHRhYmxleFxcbm9kZV9tb2R1bGVzXFx1bWktbGlicmFyeVxcbm9kZV9tb2R1bGVzXFxkb2N6XFxub2RlX21vZHVsZXNcXGJhYmVsLXByZXNldC1yZWFjdC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZCI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiRTpcXFdlYlJvb3RcXHRhYmxleFxcbm9kZV9tb2R1bGVzXFx1bWktbGlicmFyeVxcbm9kZV9tb2R1bGVzXFxkb2N6XFxub2RlX21vZHVsZXNcXGJhYmVsLXByZXNldC1yZWFjdC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJFOlxcV2ViUm9vdFxcdGFibGV4XFxub2RlX21vZHVsZXNcXHVtaS1saWJyYXJ5XFxub2RlX21vZHVsZXNcXGRvY3pcXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAiRTpcXFdlYlJvb3RcXHRhYmxleFxcbm9kZV9tb2R1bGVzXFx1bWktbGlicmFyeVxcbm9kZV9tb2R1bGVzXFxkb2N6XFxub2RlX21vZHVsZXNcXGJhYmVsLXByZXNldC1yZWFjdC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iOwppbXBvcnQgX2dldFByb3RvdHlwZU9mIGZyb20gIkU6XFxXZWJSb290XFx0YWJsZXhcXG5vZGVfbW9kdWxlc1xcdW1pLWxpYnJhcnlcXG5vZGVfbW9kdWxlc1xcZG9jelxcbm9kZV9tb2R1bGVzXFxiYWJlbC1wcmVzZXQtcmVhY3QtYXBwXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9nZXRQcm90b3R5cGVPZiI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiRTpcXFdlYlJvb3RcXHRhYmxleFxcbm9kZV9tb2R1bGVzXFx1bWktbGlicmFyeVxcbm9kZV9tb2R1bGVzXFxkb2N6XFxub2RlX21vZHVsZXNcXGJhYmVsLXByZXNldC1yZWFjdC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKdmFyIF9qc3hGaWxlTmFtZSA9ICJFOlxcV2ViUm9vdFxcdGFibGV4XFxzcmNcXGJhc2VcXGJvZHkuanMiOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgZW50ZXJNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5lbnRlck1vZHVsZTsKICBlbnRlck1vZHVsZSAmJiBlbnRlck1vZHVsZShtb2R1bGUpOwp9KSgpOwoKaW1wb3J0IFJlYWN0IGZyb20gInJlYWN0IjsKaW1wb3J0IFByb3BUeXBlcyBmcm9tICJwcm9wLXR5cGVzIjsKaW1wb3J0IHsgVmFyaWFibGVTaXplR3JpZCBhcyBHcmlkIH0gZnJvbSAicmVhY3Qtd2luZG93IjsKaW1wb3J0IEF1dG9TaXplciBmcm9tICJyZWFjdC12aXJ0dWFsaXplZC1hdXRvLXNpemVyIjsKaW1wb3J0IExvYWRpbmdJY29uIGZyb20gIi4uL2NvbXBvbmVudHMvbG9hZGluZ0ljb24iOwoKdmFyIFRhYmxlQm9keSA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHsKICBfaW5oZXJpdHMoVGFibGVCb2R5LCBfUmVhY3QkQ29tcG9uZW50KTsKCiAgZnVuY3Rpb24gVGFibGVCb2R5KCkgewogICAgdmFyIF9nZXRQcm90b3R5cGVPZjI7CgogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWJsZUJvZHkpOwoKICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldOwogICAgfQoKICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKF9nZXRQcm90b3R5cGVPZjIgPSBfZ2V0UHJvdG90eXBlT2YoVGFibGVCb2R5KSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSk7CiAgICBfdGhpcy5ncmlkUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7CgogICAgX3RoaXMuZ2V0Q29sdW1uID0gZnVuY3Rpb24gKGluZGV4KSB7CiAgICAgIHZhciBjb2x1bW5MZWFmcyA9IF90aGlzLnByb3BzLmNvbHVtbkxlYWZzOwogICAgICByZXR1cm4gY29sdW1uTGVhZnNbaW5kZXhdOwogICAgfTsKCiAgICBfdGhpcy5nZXRDb2x1bW5XaWR0aCA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGNvbHVtbkxlYWZzID0gX3RoaXMucHJvcHMuY29sdW1uTGVhZnM7CiAgICAgIHZhciBjdyA9IDA7CiAgICAgIGNvbHVtbkxlYWZzLmZvckVhY2goZnVuY3Rpb24gKGQpIHsKICAgICAgICBjdyArPSBkLndpZHRoIHx8IDEwMDsKICAgICAgfSk7CiAgICAgIHJldHVybiBjdzsKICAgIH07CgogICAgX3RoaXMuY29sdW1uV2lkdGggPSBmdW5jdGlvbiAoaW5kZXgsIHdpZHRoKSB7CiAgICAgIHZhciBjb2x1bW4gPSBfdGhpcy5nZXRDb2x1bW4oaW5kZXgpOwoKICAgICAgdmFyIGN3ID0gX3RoaXMuZ2V0Q29sdW1uV2lkdGgoKTsKCiAgICAgIHZhciBzdyA9IF90aGlzLnByb3BzLnNjcm9sbGJhcldpZHRoOwoKICAgICAgaWYgKGNvbHVtbikgewogICAgICAgIHJldHVybiBjb2x1bW4ud2lkdGggfHwgMTAwOwogICAgICB9CgogICAgICByZXR1cm4gd2lkdGggLSBjdyAtIHN3OwogICAgfTsKCiAgICBfdGhpcy5pc0xvYWRpbmdDaGlsZHJlbiA9IGZ1bmN0aW9uIChrZXkpIHsKICAgICAgdmFyIGxvYWRpbmdLZXlzID0gX3RoaXMucHJvcHMubG9hZGluZ0tleXM7CiAgICAgIHJldHVybiBsb2FkaW5nS2V5cy5pbmRleE9mKGtleSkgPiAtMTsKICAgIH07CgogICAgX3RoaXMuZXhwYW5kYWJsZUVsID0gZnVuY3Rpb24gKGNvbHVtbkluZGV4LCByb3dJbmRleCwgcm93KSB7CiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLAogICAgICAgICAgcm93SW5kZW50ID0gX3RoaXMkcHJvcHMucm93SW5kZW50LAogICAgICAgICAgX3RoaXMkcHJvcHMkZXhwYW5kZWRLID0gX3RoaXMkcHJvcHMuZXhwYW5kZWRLZXlzLAogICAgICAgICAgZXhwYW5kZWRLZXlzID0gX3RoaXMkcHJvcHMkZXhwYW5kZWRLID09PSB2b2lkIDAgPyBbXSA6IF90aGlzJHByb3BzJGV4cGFuZGVkSywKICAgICAgICAgIHJvd0tleSA9IF90aGlzJHByb3BzLnJvd0tleTsKICAgICAgdmFyIGluZGVudCA9IChyb3cuX19kZXB0aCB8fCAwKSAqIHJvd0luZGVudDsKICAgICAgdmFyIGtleSA9IHJvd1tyb3dLZXldOwoKICAgICAgdmFyIGlzTG9hZGluZyA9IF90aGlzLmlzTG9hZGluZ0NoaWxkcmVuKGtleSk7CgogICAgICB2YXIgaXNFeHBhbmQgPSBmYWxzZTsKICAgICAgdmFyIGljb24gPSAiKyI7CgogICAgICBpZiAoZXhwYW5kZWRLZXlzLmluZGV4T2Yoa2V5KSA+IC0xKSB7CiAgICAgICAgaXNFeHBhbmQgPSB0cnVlOwogICAgICAgIGljb24gPSAiLSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaXNFeHBhbmQgPSBmYWxzZTsKICAgICAgICBpY29uID0gIisiOwogICAgICB9CgogICAgICB2YXIgaWNvbkZsYWcgPSBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgewogICAgICAgIGNsYXNzTmFtZTogInRhYmxleC1yb3ctZXhwYW5kLXBsYWNlaG9sZGVyIiwKICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgIGxpbmVOdW1iZXI6IDY4CiAgICAgICAgfSwKICAgICAgICBfX3NlbGY6IHRoaXMKICAgICAgfSk7CgogICAgICBpZiAocm93LmNoaWxkcmVuKSB7CiAgICAgICAgaWNvbkZsYWcgPSBSZWFjdC5jcmVhdGVFbGVtZW50KCJzcGFuIiwgewogICAgICAgICAgY2xhc3NOYW1lOiAidGFibGV4LXJvdy1leHBhbmQtaWNvbiIsCiAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCkgewogICAgICAgICAgICBfdGhpcy5wcm9wcy5vbkV4cGFuZENoYW5nZShpc0V4cGFuZCwga2V5KTsKICAgICAgICAgIH0sCiAgICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgICBsaW5lTnVtYmVyOiA3MgogICAgICAgICAgfSwKICAgICAgICAgIF9fc2VsZjogdGhpcwogICAgICAgIH0sIGljb24pOwogICAgICB9CgogICAgICBpZiAoaXNMb2FkaW5nID09PSB0cnVlKSB7CiAgICAgICAgaWNvbkZsYWcgPSBSZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmdJY29uLCB7CiAgICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgICBsaW5lTnVtYmVyOiA4NAogICAgICAgICAgfSwKICAgICAgICAgIF9fc2VsZjogdGhpcwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAoY29sdW1uSW5kZXggPT09IDApIHsKICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgaW5kZW50ID4gMCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoInNwYW4iLCB7CiAgICAgICAgICBjbGFzc05hbWU6ICJ0YWJsZXgtcm93LWluZGVudCIsCiAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICBtYXJnaW5MZWZ0OiBpbmRlbnQKICAgICAgICAgIH0sCiAgICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgICBsaW5lTnVtYmVyOiA5MQogICAgICAgICAgfSwKICAgICAgICAgIF9fc2VsZjogdGhpcwogICAgICAgIH0pIDogbnVsbCwgaWNvbkZsYWcpOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH07CgogICAgX3RoaXMucmVuZGVyQ2VsbCA9IGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgIHZhciBjb2x1bW5JbmRleCA9IF9yZWYuY29sdW1uSW5kZXgsCiAgICAgICAgICByb3dJbmRleCA9IF9yZWYucm93SW5kZXgsCiAgICAgICAgICBzdHlsZSA9IF9yZWYuc3R5bGU7CiAgICAgIHZhciBkYXRhU291cmNlID0gX3RoaXMucHJvcHMuZGF0YVNvdXJjZTsKCiAgICAgIGlmIChkYXRhU291cmNlLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgICBsaW5lTnVtYmVyOiAxMDcKICAgICAgICAgIH0sCiAgICAgICAgICBfX3NlbGY6IHRoaXMKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdmFyIGNvbHVtbiA9IF90aGlzLmdldENvbHVtbihjb2x1bW5JbmRleCk7CgogICAgICB2YXIgYXR0ciA9IHt9OyAvLyBpZiAoY29sdW1uSW5kZXg9PT0wKSB7CiAgICAgIC8vICAgYXR0cj17CiAgICAgIC8vICAgICBwb3NpdGlvbjoic3RpY2t5IiwKICAgICAgLy8gICAgIHpJbmRleDoxLAogICAgICAvLyAgICAgbGVmdDowCiAgICAgIC8vICAgfQogICAgICAvLyB9CgogICAgICBpZiAoY29sdW1uKSB7CiAgICAgICAgdmFyIGMgPSBjb2x1bW4uZGF0YUluZGV4OwogICAgICAgIHZhciByb3cgPSBkYXRhU291cmNlW3Jvd0luZGV4XTsKCiAgICAgICAgdmFyIGV4cGFuZGFibGVFbCA9IF90aGlzLmV4cGFuZGFibGVFbChjb2x1bW5JbmRleCwgcm93SW5kZXgsIHJvdyk7CgogICAgICAgIHZhciBjZWxsRGF0YSA9IHJvd1tjXTsKICAgICAgICB2YXIgdGFibGVfY2VsbCA9IG51bGw7CgogICAgICAgIGlmICh0eXBlb2YgY29sdW1uLnJlbmRlciA9PT0gImZ1bmN0aW9uIikgewogICAgICAgICAgdGFibGVfY2VsbCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoImRpdiIsIHsKICAgICAgICAgICAgY2xhc3NOYW1lOiAidGFibGV4LWNlbGwiLAogICAgICAgICAgICBzdHlsZTogc3R5bGUsCiAgICAgICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgICAgICBsaW5lTnVtYmVyOiAxMzQKICAgICAgICAgICAgfSwKICAgICAgICAgICAgX19zZWxmOiB0aGlzCiAgICAgICAgICB9LCBleHBhbmRhYmxlRWwsICIgIiwgY29sdW1uLnJlbmRlcihjZWxsRGF0YSwgcm93LCByb3dJbmRleCkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0YWJsZV9jZWxsID0gUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgICAgICBjbGFzc05hbWU6ICJ0YWJsZXgtY2VsbCIsCiAgICAgICAgICAgIHN0eWxlOiBfb2JqZWN0U3ByZWFkKHt9LCBzdHlsZSwgYXR0ciksCiAgICAgICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgICAgICBsaW5lTnVtYmVyOiAxNDAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgX19zZWxmOiB0aGlzCiAgICAgICAgICB9LCBleHBhbmRhYmxlRWwsIGNlbGxEYXRhKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB0YWJsZV9jZWxsOwogICAgICB9CgogICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2IiwgewogICAgICAgIGNsYXNzTmFtZTogInRhYmxleC1jZWxsIiwKICAgICAgICBzdHlsZTogX29iamVjdFNwcmVhZCh7fSwgc3R5bGUsIHsKICAgICAgICAgIGJvcmRlclJpZ2h0OiAibm9uZSIKICAgICAgICB9KSwKICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICAgIGxpbmVOdW1iZXI6IDE1MQogICAgICAgIH0sCiAgICAgICAgX19zZWxmOiB0aGlzCiAgICAgIH0pOwogICAgfTsKCiAgICBfdGhpcy5yZW5kZXJSb3cgPSBmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgdmFyIGluZGV4ID0gX3JlZjIuaW5kZXgsCiAgICAgICAgICBzdHlsZSA9IF9yZWYyLnN0eWxlOwogICAgICB2YXIgY29sdW1ucyA9IF90aGlzLnByb3BzLmNvbHVtbnMgfHwgW107CiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLCB7CiAgICAgICAgY2xhc3NOYW1lOiAidGFibGV4LXJvdyIsCiAgICAgICAgc3R5bGU6IF9vYmplY3RTcHJlYWQoe30sIHN0eWxlLCB7CiAgICAgICAgICB3aGl0ZVNwYWNlOiAibm93cmFwIgogICAgICAgIH0pLAogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogMTU4CiAgICAgICAgfSwKICAgICAgICBfX3NlbGY6IHRoaXMKICAgICAgfSwgY29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbHVtbiwgY29sdW1uSW5kZXgpIHsKICAgICAgICByZXR1cm4gX3RoaXMucmVuZGVyQ2VsbCh7CiAgICAgICAgICBjb2x1bW5JbmRleDogY29sdW1uSW5kZXgsCiAgICAgICAgICByb3dJbmRleDogaW5kZXgsCiAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICBkaXNwbGF5OiAiaW5saW5lLWJsb2NrIiwKICAgICAgICAgICAgd2lkdGg6IGNvbHVtbi53aWR0aAogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KSk7CiAgICB9OwoKICAgIF90aGlzLnNjcm9sbFRvID0gZnVuY3Rpb24gKHBvcykgewogICAgICBfdGhpcy5ncmlkUmVmLmN1cnJlbnQgJiYgX3RoaXMuZ3JpZFJlZi5jdXJyZW50LnNjcm9sbFRvKHBvcyk7CiAgICB9OwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhUYWJsZUJvZHksIFt7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMkcHJvcHMyID0gdGhpcy5wcm9wcywKICAgICAgICAgIGNvbHVtbnMgPSBfdGhpcyRwcm9wczIuY29sdW1ucywKICAgICAgICAgIGNvbHVtbkxlYWZzID0gX3RoaXMkcHJvcHMyLmNvbHVtbkxlYWZzLAogICAgICAgICAgZGF0YVNvdXJjZSA9IF90aGlzJHByb3BzMi5kYXRhU291cmNlLAogICAgICAgICAgb25TY3JvbGwgPSBfdGhpcyRwcm9wczIub25TY3JvbGwsCiAgICAgICAgICBzdHlsZSA9IF90aGlzJHByb3BzMi5zdHlsZTsKICAgICAgdmFyIGNvbHVtbldpZHRoID0gMDsKICAgICAgY29sdW1uTGVhZnMuZm9yRWFjaChmdW5jdGlvbiAoZCkgewogICAgICAgIGNvbHVtbldpZHRoICs9IGQud2lkdGggfHwgMTAwOwogICAgICB9KTsKICAgICAgdmFyIHJvd0NvdW50ID0gZGF0YVNvdXJjZS5sZW5ndGg7CiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEF1dG9TaXplciwgewogICAgICAgIF9fc291cmNlOiB7CiAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgbGluZU51bWJlcjogMTg0CiAgICAgICAgfSwKICAgICAgICBfX3NlbGY6IHRoaXMKICAgICAgfSwgZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgdmFyIGhlaWdodCA9IF9yZWYzLmhlaWdodCwKICAgICAgICAgICAgd2lkdGggPSBfcmVmMy53aWR0aDsKICAgICAgICB2YXIgbGVuID0gY29sdW1uTGVhZnMubGVuZ3RoOwoKICAgICAgICBpZiAod2lkdGggPiBjb2x1bW5XaWR0aCkgewogICAgICAgICAgbGVuID0gbGVuICsgMTsKICAgICAgICB9CgogICAgICAgIGlmIChkYXRhU291cmNlLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgcm93Q291bnQgPSAxOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoR3JpZCwgewogICAgICAgICAgc3R5bGU6IHN0eWxlLAogICAgICAgICAgY29sdW1uQ291bnQ6IGxlbiwKICAgICAgICAgIGNvbHVtbldpZHRoOiBmdW5jdGlvbiBjb2x1bW5XaWR0aChpKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczIuY29sdW1uV2lkdGgoaSwgd2lkdGgpOwogICAgICAgICAgfSwKICAgICAgICAgIGhlaWdodDogaGVpZ2h0LAogICAgICAgICAgcm93Q291bnQ6IHJvd0NvdW50LAogICAgICAgICAgcm93SGVpZ2h0OiBmdW5jdGlvbiByb3dIZWlnaHQoaW5kZXgpIHsKICAgICAgICAgICAgcmV0dXJuIDM1OwogICAgICAgICAgfSwKICAgICAgICAgIHdpZHRoOiB3aWR0aCwKICAgICAgICAgIG9uU2Nyb2xsOiBvblNjcm9sbCwKICAgICAgICAgIHJlZjogX3RoaXMyLmdyaWRSZWYsCiAgICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgICBsaW5lTnVtYmVyOiAxOTgKICAgICAgICAgIH0sCiAgICAgICAgICBfX3NlbGY6IHRoaXMKICAgICAgICB9LCBfdGhpczIucmVuZGVyQ2VsbCkpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJfX3JlYWN0c3RhbmRpbl9fcmVnZW5lcmF0ZUJ5RXZhbCIsCiAgICAvLyBAdHMtaWdub3JlCiAgICB2YWx1ZTogZnVuY3Rpb24gX19yZWFjdHN0YW5kaW5fX3JlZ2VuZXJhdGVCeUV2YWwoa2V5LCBjb2RlKSB7CiAgICAgIC8vIEB0cy1pZ25vcmUKICAgICAgdGhpc1trZXldID0gZXZhbChjb2RlKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBUYWJsZUJvZHk7Cn0oUmVhY3QuQ29tcG9uZW50KTsKClRhYmxlQm9keS5kZWZhdWx0UHJvcHMgPSB7CiAgY29sdW1uczogW10sCiAgY29sdW1uTGVhZnM6IFtdLAogIGRhdGFTb3VyY2U6IFtdLAogIHJvd0luZGVudDogMjAsCiAgZXhwYW5kZWRLZXlzOiBbXSwKICBsb2FkaW5nS2V5czogW10sCiAgc2Nyb2xsYmFyV2lkdGg6IDYKfTsKVGFibGVCb2R5LnByb3BUeXBlcyA9IHsKICAvKioNCiAgICog5Li76KaB55So5LqO6KGM5bGV5byADQogICAqLwogIHJvd0tleTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLAogIGNvbHVtbnM6IFByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkLAogIGNvbHVtbkxlYWZzOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCwKICBkYXRhU291cmNlOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCwKICBvblNjcm9sbDogUHJvcFR5cGVzLmZ1bmMsCgogIC8qKg0KICAgKiBAaXNFeHBhbmQg5piv5ZCm5bGV5byADQogICAqIEBrZXkg5Y+X5b2x5ZON55qE6KGM5pWw5o2ua2V5DQogICAqLwogIG9uRXhwYW5kQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYywKICByb3dJbmRlbnQ6IFByb3BUeXBlcy5udW1iZXIsCiAgZXhwYW5kZWRLZXlzOiBQcm9wVHlwZXMuYXJyYXksCiAgbG9hZGluZ0tleXM6IFByb3BUeXBlcy5hcnJheSwKICBzY3JvbGxiYXJXaWR0aDogUHJvcFR5cGVzLm51bWJlcgp9Owp2YXIgX2RlZmF1bHQgPSBUYWJsZUJvZHk7CmV4cG9ydCBkZWZhdWx0IF9kZWZhdWx0OwoKaWYgKHR5cGVvZiBUYWJsZUJvZHkgIT09ICd1bmRlZmluZWQnICYmIFRhYmxlQm9keSAmJiBUYWJsZUJvZHkgPT09IE9iamVjdChUYWJsZUJvZHkpICYmIE9iamVjdC5pc0V4dGVuc2libGUoVGFibGVCb2R5KSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUYWJsZUJvZHksICdfX2ZpbGVtZXRhJywgewogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgIHZhbHVlOiB7CiAgICAgIG5hbWU6ICJUYWJsZUJvZHkiLAogICAgICBmaWxlbmFtZTogInNyY1xcYmFzZVxcYm9keS5qcyIKICAgIH0KICB9KTsKfQoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVhY3RIb3RMb2FkZXIgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5kZWZhdWx0OwoKICBpZiAoIXJlYWN0SG90TG9hZGVyKSB7CiAgICByZXR1cm47CiAgfQoKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihUYWJsZUJvZHksICJUYWJsZUJvZHkiLCAiRTpcXFdlYlJvb3RcXHRhYmxleFxcc3JjXFxiYXNlXFxib2R5LmpzIik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoX2RlZmF1bHQsICJkZWZhdWx0IiwgIkU6XFxXZWJSb290XFx0YWJsZXhcXHNyY1xcYmFzZVxcYm9keS5qcyIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5sZWF2ZU1vZHVsZTsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["E:\\WebRoot\\tablex\\src\\base\\body.js"],"names":["React","PropTypes","VariableSizeGrid","Grid","AutoSizer","LoadingIcon","TableBody","gridRef","createRef","getColumn","index","columnLeafs","props","getColumnWidth","cw","forEach","d","width","columnWidth","column","sw","scrollbarWidth","isLoadingChildren","key","loadingKeys","indexOf","expandableEl","columnIndex","rowIndex","row","rowIndent","expandedKeys","rowKey","indent","__depth","isLoading","isExpand","icon","iconFlag","children","onExpandChange","marginLeft","renderCell","style","dataSource","length","attr","c","dataIndex","cellData","table_cell","render","borderRight","renderRow","columns","whiteSpace","map","display","scrollTo","pos","current","onScroll","rowCount","height","len","i","Component","defaultProps","propTypes","string","isRequired","array","func","number"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { VariableSizeGrid as Grid } from \"react-window\";\r\nimport AutoSizer from \"react-virtualized-auto-sizer\";\r\nimport LoadingIcon from \"../components/loadingIcon\";\r\n\r\nclass TableBody extends React.Component {\r\n  gridRef = React.createRef();\r\n\r\n  getColumn = index => {\r\n    let { columnLeafs } = this.props;\r\n\r\n    return columnLeafs[index];\r\n  };\r\n\r\n  getColumnWidth = () => {\r\n    let { columnLeafs } = this.props;\r\n\r\n    let cw = 0;\r\n    columnLeafs.forEach(d => {\r\n      cw += d.width || 100;\r\n    });\r\n\r\n    return cw;\r\n  };\r\n\r\n  columnWidth = (index, width) => {\r\n    let column = this.getColumn(index);\r\n    let cw = this.getColumnWidth();\r\n    let sw = this.props.scrollbarWidth;\r\n\r\n    if (column) {\r\n      return column.width || 100;\r\n    }\r\n\r\n    return width - cw - sw;\r\n  };\r\n\r\n  /**\r\n   * 行是否正在加载子级\r\n   */\r\n  isLoadingChildren = key => {\r\n    let { loadingKeys } = this.props;\r\n\r\n    return loadingKeys.indexOf(key) > -1;\r\n  };\r\n\r\n  expandableEl = (columnIndex, rowIndex, row) => {\r\n    let { rowIndent, expandedKeys = [], rowKey } = this.props;\r\n\r\n    let indent = (row.__depth || 0) * rowIndent;\r\n\r\n    let key = row[rowKey];\r\n\r\n    let isLoading = this.isLoadingChildren(key);\r\n\r\n    let isExpand = false;\r\n    let icon = \"+\";\r\n\r\n    if (expandedKeys.indexOf(key) > -1) {\r\n      isExpand = true;\r\n      icon = \"-\";\r\n    } else {\r\n      isExpand = false;\r\n      icon = \"+\";\r\n    }\r\n\r\n    let iconFlag = <span className=\"tablex-row-expand-placeholder\" />;\r\n\r\n    if (row.children) {\r\n      iconFlag = (\r\n        <span\r\n          className=\"tablex-row-expand-icon\"\r\n          onClick={() => {\r\n            this.props.onExpandChange(isExpand, key);\r\n          }}\r\n        >\r\n          {icon}\r\n        </span>\r\n      );\r\n    }\r\n\r\n    if (isLoading === true) {\r\n      iconFlag = <LoadingIcon />;\r\n    }\r\n\r\n    if (columnIndex === 0) {\r\n      return (\r\n        <>\r\n          {indent > 0 ? (\r\n            <span\r\n              className=\"tablex-row-indent\"\r\n              style={{ marginLeft: indent }}\r\n            />\r\n          ) : null}\r\n          {iconFlag}\r\n        </>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  renderCell = ({ columnIndex, rowIndex, style }) => {\r\n    let { dataSource } = this.props;\r\n\r\n    if (dataSource.length === 0) {\r\n      return <div />;\r\n    }\r\n\r\n    let column = this.getColumn(columnIndex);\r\n\r\n    let attr = {};\r\n\r\n    // if (columnIndex===0) {\r\n    //   attr={\r\n    //     position:\"sticky\",\r\n    //     zIndex:1,\r\n    //     left:0\r\n    //   }\r\n    // }\r\n\r\n    if (column) {\r\n      let c = column.dataIndex;\r\n      let row = dataSource[rowIndex];\r\n\r\n      let expandableEl = this.expandableEl(columnIndex, rowIndex, row);\r\n\r\n      let cellData = row[c];\r\n\r\n      let table_cell = null;\r\n\r\n      if (typeof column.render === \"function\") {\r\n        table_cell = (\r\n          <div className=\"tablex-cell\" style={style}>\r\n            {expandableEl} {column.render(cellData, row, rowIndex)}\r\n          </div>\r\n        );\r\n      } else {\r\n        table_cell = (\r\n          <div className=\"tablex-cell\" style={{ ...style, ...attr }}>\r\n            {expandableEl}\r\n            {cellData}\r\n          </div>\r\n        );\r\n      }\r\n\r\n      return table_cell;\r\n    }\r\n\r\n    return (\r\n      <div className=\"tablex-cell\" style={{ ...style, borderRight: \"none\" }} />\r\n    );\r\n  };\r\n\r\n  renderRow = ({ index, style }) => {\r\n    let columns = this.props.columns || [];\r\n    return (\r\n      <div className=\"tablex-row\" style={{ ...style, whiteSpace: \"nowrap\" }}>\r\n        {columns.map((column, columnIndex) => {\r\n          return this.renderCell({\r\n            columnIndex,\r\n            rowIndex: index,\r\n            style: { display: \"inline-block\", width: column.width }\r\n          });\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  scrollTo = pos => {\r\n    this.gridRef.current && this.gridRef.current.scrollTo(pos);\r\n  };\r\n\r\n  render() {\r\n    let { columns, columnLeafs, dataSource, onScroll, style } = this.props;\r\n    let columnWidth = 0;\r\n    columnLeafs.forEach(d => {\r\n      columnWidth += d.width || 100;\r\n    });\r\n\r\n    let rowCount = dataSource.length;\r\n\r\n    return (\r\n      <AutoSizer>\r\n        {({ height, width }) => {\r\n          let len = columnLeafs.length;\r\n\r\n          if (width > columnWidth) {\r\n            len = len + 1;\r\n          }\r\n\r\n          if (dataSource.length === 0) {\r\n            rowCount = 1;\r\n          }\r\n\r\n          return (\r\n            <>\r\n              <Grid\r\n                style={style}\r\n                columnCount={len}\r\n                columnWidth={i => this.columnWidth(i, width)}\r\n                height={height}\r\n                rowCount={rowCount}\r\n                rowHeight={index => 35}\r\n                width={width}\r\n                onScroll={onScroll}\r\n                ref={this.gridRef}\r\n              >\r\n                {this.renderCell}\r\n              </Grid>\r\n            </>\r\n          );\r\n        }}\r\n      </AutoSizer>\r\n    );\r\n  }\r\n}\r\n\r\nTableBody.defaultProps = {\r\n  columns: [],\r\n  columnLeafs: [],\r\n  dataSource: [],\r\n  rowIndent: 20,\r\n  expandedKeys: [],\r\n  loadingKeys: [],\r\n  scrollbarWidth: 6\r\n};\r\n\r\nTableBody.propTypes = {\r\n  /**\r\n   * 主要用于行展开\r\n   */\r\n  rowKey: PropTypes.string.isRequired,\r\n  columns: PropTypes.array.isRequired,\r\n  columnLeafs: PropTypes.array.isRequired,\r\n  dataSource: PropTypes.array.isRequired,\r\n  onScroll: PropTypes.func,\r\n\r\n  /**\r\n   * @isExpand 是否展开\r\n   * @key 受影响的行数据key\r\n   */\r\n  onExpandChange: PropTypes.func,\r\n  rowIndent: PropTypes.number,\r\n  expandedKeys: PropTypes.array,\r\n  loadingKeys: PropTypes.array,\r\n  scrollbarWidth: PropTypes.number\r\n};\r\n\r\nexport default TableBody;\r\n"]}]}