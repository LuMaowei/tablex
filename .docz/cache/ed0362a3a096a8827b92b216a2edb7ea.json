{"remainingRequest":"E:\\WebRoot\\tablex\\node_modules\\thread-loader\\dist\\cjs.js??ref--5-1!E:\\WebRoot\\tablex\\node_modules\\babel-loader\\lib\\index.js??ref--5-2!E:\\WebRoot\\tablex\\node_modules\\source-map-loader\\index.js!E:\\WebRoot\\tablex\\src\\index.js","dependencies":[{"path":"E:\\WebRoot\\tablex\\src\\index.js","mtime":1559209157387},{"path":"E:\\WebRoot\\tablex\\node_modules\\umi-library\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1559204841349},{"path":"E:\\WebRoot\\tablex\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1554780430526},{"path":"E:\\WebRoot\\tablex\\node_modules\\babel-loader\\lib\\index.js","mtime":1551944504366},{"path":"E:\\WebRoot\\tablex\\node_modules\\source-map-loader\\index.js","mtime":1551944506105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tIkU6XFxXZWJSb290XFx0YWJsZXhcXG5vZGVfbW9kdWxlc1xcdW1pLWxpYnJhcnlcXG5vZGVfbW9kdWxlc1xcZG9jelxcbm9kZV9tb2R1bGVzXFxiYWJlbC1wcmVzZXQtcmVhY3QtYXBwXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tIkU6XFxXZWJSb290XFx0YWJsZXhcXG5vZGVfbW9kdWxlc1xcdW1pLWxpYnJhcnlcXG5vZGVfbW9kdWxlc1xcZG9jelxcbm9kZV9tb2R1bGVzXFxiYWJlbC1wcmVzZXQtcmVhY3QtYXBwXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7aW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tIkU6XFxXZWJSb290XFx0YWJsZXhcXG5vZGVfbW9kdWxlc1xcdW1pLWxpYnJhcnlcXG5vZGVfbW9kdWxlc1xcZG9jelxcbm9kZV9tb2R1bGVzXFxiYWJlbC1wcmVzZXQtcmVhY3QtYXBwXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7aW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20iRTpcXFdlYlJvb3RcXHRhYmxleFxcbm9kZV9tb2R1bGVzXFx1bWktbGlicmFyeVxcbm9kZV9tb2R1bGVzXFxkb2N6XFxub2RlX21vZHVsZXNcXGJhYmVsLXByZXNldC1yZWFjdC1hcHBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iO2ltcG9ydCBfZ2V0UHJvdG90eXBlT2YgZnJvbSJFOlxcV2ViUm9vdFxcdGFibGV4XFxub2RlX21vZHVsZXNcXHVtaS1saWJyYXJ5XFxub2RlX21vZHVsZXNcXGRvY3pcXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vZ2V0UHJvdG90eXBlT2YiO2ltcG9ydCBfaW5oZXJpdHMgZnJvbSJFOlxcV2ViUm9vdFxcdGFibGV4XFxub2RlX21vZHVsZXNcXHVtaS1saWJyYXJ5XFxub2RlX21vZHVsZXNcXGRvY3pcXG5vZGVfbW9kdWxlc1xcYmFiZWwtcHJlc2V0LXJlYWN0LWFwcFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiO2ltcG9ydCBSZWFjdCBmcm9tInJlYWN0IjtpbXBvcnQgVGFibGVCb2R5IGZyb20iLi9iYXNlL2ZpeGVkQm9keSI7aW1wb3J0IFRhYmxlSGVhZCBmcm9tIi4vYmFzZS9maXhlZEhlYWQiO2ltcG9ydCIuL2luZGV4LmNzcyI7aW1wb3J0e3RyZWVUb0xpc3QsZ2V0RGF0YUxpc3RXaXRoRXhwYW5kZWQsZ2V0U2Nyb2xsYmFyV2lkdGh9ZnJvbSIuL2hlbHBlciI7aW1wb3J0IExvYWRpbmdNc2cgZnJvbSIuL2NvbXBvbmVudHMvbG9hZGluZyI7aW1wb3J0IE5vRGF0YU1zZyBmcm9tIi4vY29tcG9uZW50cy9ub0RhdGFNc2ciO3ZhciBzY3JvbGxiYXJXaWR0aD1nZXRTY3JvbGxiYXJXaWR0aCgpO3ZhciBUYWJsZT0vKiNfX1BVUkVfXyovZnVuY3Rpb24oX1JlYWN0JENvbXBvbmVudCl7X2luaGVyaXRzKFRhYmxlLF9SZWFjdCRDb21wb25lbnQpO2Z1bmN0aW9uIFRhYmxlKCl7dmFyIF9nZXRQcm90b3R5cGVPZjI7dmFyIF90aGlzO19jbGFzc0NhbGxDaGVjayh0aGlzLFRhYmxlKTtmb3IodmFyIF9sZW49YXJndW1lbnRzLmxlbmd0aCxhcmdzPW5ldyBBcnJheShfbGVuKSxfa2V5PTA7X2tleTxfbGVuO19rZXkrKyl7YXJnc1tfa2V5XT1hcmd1bWVudHNbX2tleV07fV90aGlzPV9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsKF9nZXRQcm90b3R5cGVPZjI9X2dldFByb3RvdHlwZU9mKFRhYmxlKSkuY2FsbC5hcHBseShfZ2V0UHJvdG90eXBlT2YyLFt0aGlzXS5jb25jYXQoYXJncykpKTtfdGhpcy5zdGF0ZT17cm93S2V5OnVuZGVmaW5lZCxjb2x1bW5zOltdLGNvbHVtbkxlYWZzOltdLGRhdGFTb3VyY2U6W10sZGF0YUxpc3Q6W10sZXhwYW5kZWRLZXlzOltdLGxvYWRpbmdLZXlzOltdfTtfdGhpcy5vbkV4cGFuZENoYW5nZT1mdW5jdGlvbihpc0V4cGFuZCxrZXkpe2lzRXhwYW5kPT09dHJ1ZT9fdGhpcy5jb2xsYXBzZShrZXkpOl90aGlzLmV4cGFuZChrZXkpO307X3RoaXMuZXhwYW5kPWZ1bmN0aW9uKGtleSl7dmFyIGV4cGFuZGVkS2V5cz1fdGhpcy5zdGF0ZS5leHBhbmRlZEtleXM7dmFyIG5leHRFeHBhbmRlZEtleXM9X3RvQ29uc3VtYWJsZUFycmF5KGV4cGFuZGVkS2V5cyk7dmFyIGk9ZXhwYW5kZWRLZXlzLmluZGV4T2Yoa2V5KTtpZihpPT09LTEpe25leHRFeHBhbmRlZEtleXMucHVzaChrZXkpO31fdGhpcy5zZXRTdGF0ZSh7ZXhwYW5kZWRLZXlzOm5leHRFeHBhbmRlZEtleXN9KTtpZih0eXBlb2YgX3RoaXMucHJvcHMubG9hZENoaWxkcmVuRGF0YT09PSJmdW5jdGlvbiIpe190aGlzLmxvYWRDaGlsZHJlbkRhdGEoa2V5KTt9fTtfdGhpcy5jb2xsYXBzZT1mdW5jdGlvbihrZXkpe3ZhciBleHBhbmRlZEtleXM9X3RoaXMuc3RhdGUuZXhwYW5kZWRLZXlzO3ZhciBuZXh0RXhwYW5kZWRLZXlzPV90b0NvbnN1bWFibGVBcnJheShleHBhbmRlZEtleXMpO3ZhciBpPWV4cGFuZGVkS2V5cy5pbmRleE9mKGtleSk7aWYoaT4tMSl7bmV4dEV4cGFuZGVkS2V5cy5zcGxpY2UoaSwxKTt9X3RoaXMuc2V0U3RhdGUoe2V4cGFuZGVkS2V5czpuZXh0RXhwYW5kZWRLZXlzfSk7fTtfdGhpcy5zZXRMb2FkaW5nQ2hpbGRyZW49ZnVuY3Rpb24oa2V5LGJsLGNhbGxiYWNrKXt2YXIgbG9hZGluZ0tleXM9X3RoaXMuc3RhdGUubG9hZGluZ0tleXM7dmFyIGk9bG9hZGluZ0tleXMuaW5kZXhPZihrZXkpO3ZhciBuZXh0S2V5cz1fdG9Db25zdW1hYmxlQXJyYXkobG9hZGluZ0tleXMpO2lmKGJsPT09dHJ1ZSl7aWYoaT09PS0xKXtuZXh0S2V5cy5wdXNoKGtleSk7fX1lbHNle2lmKGk+LTEpe25leHRLZXlzLnNwbGljZShpLDEpO319cmV0dXJuIF90aGlzLnNldFN0YXRlKHtsb2FkaW5nS2V5czpuZXh0S2V5c30sY2FsbGJhY2spO307X3RoaXMubG9hZENoaWxkcmVuRGF0YT1mdW5jdGlvbihrZXkpe3ZhciBfdGhpcyRzdGF0ZT1fdGhpcy5zdGF0ZSxkYXRhTGlzdD1fdGhpcyRzdGF0ZS5kYXRhTGlzdCxyb3dLZXk9X3RoaXMkc3RhdGUucm93S2V5O3ZhciByb3c9ZGF0YUxpc3QuZmluZChmdW5jdGlvbihkKXtyZXR1cm4gZFtyb3dLZXldPT09a2V5O30pO3ZhciByZXM9X3RoaXMucHJvcHMubG9hZENoaWxkcmVuRGF0YShyb3cpO2lmKHJlcyYmcmVzLmNvbnN0cnVjdG9yLm5hbWU9PT0iUHJvbWlzZSIpe190aGlzLnNldExvYWRpbmdDaGlsZHJlbihrZXksdHJ1ZSk7cmVzLnRoZW4oZnVuY3Rpb24oY2hpbGRyZW5zKXtpZihjaGlsZHJlbnMpe3Jvdy5jaGlsZHJlbj1jaGlsZHJlbnM7fV90aGlzLnNldExvYWRpbmdDaGlsZHJlbihrZXksZmFsc2UpO30pO3Jlc1siY2F0Y2giXShmdW5jdGlvbihlKXtfdGhpcy5zZXRMb2FkaW5nQ2hpbGRyZW4oa2V5LGZhbHNlKTt9KTt9fTtfdGhpcy5vbkJvZHlTY3JvbGw9ZnVuY3Rpb24oX3JlZil7dmFyIHNjcm9sbExlZnQ9X3JlZi5zY3JvbGxMZWZ0O3ZhciBoZWFkPV90aGlzLmhlYWRSZWY7aGVhZCYmaGVhZC5zY3JvbGxUbyh7c2Nyb2xsTGVmdDpzY3JvbGxMZWZ0fSk7fTtyZXR1cm4gX3RoaXM7fV9jcmVhdGVDbGFzcyhUYWJsZSxbe2tleToicmVuZGVyIix2YWx1ZTpmdW5jdGlvbiByZW5kZXIoKXt2YXIgX3RoaXMyPXRoaXM7dmFyIF90aGlzJHN0YXRlMj10aGlzLnN0YXRlLGNvbHVtbnM9X3RoaXMkc3RhdGUyLmNvbHVtbnMsY29sdW1uTGVhZnM9X3RoaXMkc3RhdGUyLmNvbHVtbkxlYWZzLGRhdGFMaXN0PV90aGlzJHN0YXRlMi5kYXRhTGlzdCxyb3dLZXk9X3RoaXMkc3RhdGUyLnJvd0tleSxleHBhbmRlZEtleXM9X3RoaXMkc3RhdGUyLmV4cGFuZGVkS2V5cyxsb2FkaW5nS2V5cz1fdGhpcyRzdGF0ZTIubG9hZGluZ0tleXMsbG9hZGluZz1fdGhpcyRzdGF0ZTIubG9hZGluZztyZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJ0YWJsZXgifSxSZWFjdC5jcmVhdGVFbGVtZW50KCJkaXYiLHtjbGFzc05hbWU6InRhYmxleC1oZWFkIn0sUmVhY3QuY3JlYXRlRWxlbWVudChUYWJsZUhlYWQse2NvbHVtbnM6Y29sdW1ucyxjb2x1bW5MZWFmczpjb2x1bW5MZWFmcyxpbml0UmVmOmZ1bmN0aW9uIGluaXRSZWYoaW5zKXtyZXR1cm4gX3RoaXMyLmhlYWRSZWY9aW5zO319KSksUmVhY3QuY3JlYXRlRWxlbWVudCgiZGl2Iix7Y2xhc3NOYW1lOiJ0YWJsZXgtYm9keSJ9LFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFibGVCb2R5LHtyb3dLZXk6cm93S2V5LGNvbHVtbnM6Y29sdW1ucyxjb2x1bW5MZWFmczpjb2x1bW5MZWFmcyxkYXRhU291cmNlOmRhdGFMaXN0LG9uU2Nyb2xsOnRoaXMub25Cb2R5U2Nyb2xsLG9uRXhwYW5kQ2hhbmdlOnRoaXMub25FeHBhbmRDaGFuZ2UsZXhwYW5kZWRLZXlzOmV4cGFuZGVkS2V5cyxsb2FkaW5nS2V5czpsb2FkaW5nS2V5cyxzY3JvbGxiYXJXaWR0aDpzY3JvbGxiYXJXaWR0aH0pLGRhdGFMaXN0Lmxlbmd0aD09PTA/UmVhY3QuY3JlYXRlRWxlbWVudChOb0RhdGFNc2csbnVsbCk6bnVsbCxsb2FkaW5nPT09dHJ1ZT9SZWFjdC5jcmVhdGVFbGVtZW50KExvYWRpbmdNc2csbnVsbCk6bnVsbCkpO319XSxbe2tleToiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIix2YWx1ZTpmdW5jdGlvbiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLHByZXZTdGF0ZSl7dmFyIGV4cGFuZGVkS2V5cz1wcmV2U3RhdGUuZXhwYW5kZWRLZXlzO3ZhciByb3dLZXk9bmV4dFByb3BzLnJvd0tleSxjb2x1bW5zPW5leHRQcm9wcy5jb2x1bW5zLGRhdGFTb3VyY2U9bmV4dFByb3BzLmRhdGFTb3VyY2UsbG9hZGluZz1uZXh0UHJvcHMubG9hZGluZzt2YXIgX3RyZWVUb0xpc3Q9dHJlZVRvTGlzdChjb2x1bW5zKSxjb2x1bW5MZWFmcz1fdHJlZVRvTGlzdC5sZWFmczt2YXIgZGF0YUxpc3Q9ZGF0YVNvdXJjZTtpZihleHBhbmRlZEtleXMubGVuZ3RoPjApe2RhdGFMaXN0PWdldERhdGFMaXN0V2l0aEV4cGFuZGVkKGRhdGFTb3VyY2UsZXhwYW5kZWRLZXlzLHJvd0tleSk7fXZhciBuZXh0U3RhdGU9e3Jvd0tleTpyb3dLZXksY29sdW1uczpjb2x1bW5zLGRhdGFTb3VyY2U6ZGF0YVNvdXJjZSxjb2x1bW5MZWFmczpjb2x1bW5MZWFmcyxkYXRhTGlzdDpkYXRhTGlzdCxsb2FkaW5nOiEhbG9hZGluZ307cmV0dXJuIG5leHRTdGF0ZTt9LyoqDQogICAqIEBpc0V4cGFuZCDmmK/lkKblsZXlvIANCiAgICogQGtleSDlj5flvbHlk43nmoTooYzmlbDmja5rZXkNCiAgICovfV0pO3JldHVybiBUYWJsZTt9KFJlYWN0LkNvbXBvbmVudCk7VGFibGUuZGVmYXVsdFByb3BzPXtjb2x1bW5zOltdLGRhdGFTb3VyY2U6W10sbG9hZGluZzpmYWxzZX07ZXhwb3J0IGRlZmF1bHQgVGFibGU7aWYodHlwZW9mIFRhYmxlIT09J3VuZGVmaW5lZCcmJlRhYmxlJiZUYWJsZT09PU9iamVjdChUYWJsZSkmJk9iamVjdC5pc0V4dGVuc2libGUoVGFibGUpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFibGUsJ19fZmlsZW1ldGEnLHtlbnVtZXJhYmxlOnRydWUsY29uZmlndXJhYmxlOnRydWUsdmFsdWU6e25hbWU6IlRhYmxlIixmaWxlbmFtZToic3JjXFxpbmRleC5qcyJ9fSk7fQ=="},{"version":3,"sources":["E:\\WebRoot\\tablex\\src\\index.js"],"names":["React","TableBody","TableHead","treeToList","getDataListWithExpanded","getScrollbarWidth","LoadingMsg","NoDataMsg","scrollbarWidth","Table","state","rowKey","undefined","columns","columnLeafs","dataSource","dataList","expandedKeys","loadingKeys","onExpandChange","isExpand","key","collapse","expand","nextExpandedKeys","i","indexOf","push","setState","props","loadChildrenData","splice","setLoadingChildren","bl","callback","nextKeys","row","find","d","res","constructor","name","then","childrens","children","e","onBodyScroll","scrollLeft","head","headRef","scrollTo","loading","ins","length","nextProps","prevState","leafs","nextState","Component","defaultProps"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport TableBody from \"./base/fixedBody\";\r\nimport TableHead from \"./base/fixedHead\";\r\nimport \"./index.css\";\r\nimport {\r\n  treeToList,\r\n  getDataListWithExpanded,\r\n  getScrollbarWidth\r\n} from \"./helper\";\r\n\r\nimport LoadingMsg from \"./components/loading\";\r\nimport NoDataMsg from \"./components/noDataMsg\";\r\n\r\nlet scrollbarWidth = getScrollbarWidth();\r\n\r\nclass Table extends React.Component {\r\n  state = {\r\n    rowKey: undefined,\r\n    columns: [],\r\n    columnLeafs: [],\r\n    dataSource: [],\r\n    dataList: [],\r\n\r\n    expandedKeys: [],\r\n    loadingKeys: []\r\n  };\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    let { expandedKeys } = prevState;\r\n\r\n    let { rowKey, columns, dataSource, loading } = nextProps;\r\n\r\n    let { leafs: columnLeafs } = treeToList(columns);\r\n\r\n    let dataList = dataSource;\r\n\r\n    if (expandedKeys.length > 0) {\r\n      dataList = getDataListWithExpanded(dataSource, expandedKeys, rowKey);\r\n    }\r\n\r\n    let nextState = {\r\n      rowKey,\r\n      columns,\r\n      dataSource,\r\n      columnLeafs,\r\n      dataList,\r\n      loading: !!loading\r\n    };\r\n\r\n    return nextState;\r\n  }\r\n\r\n  /**\r\n   * @isExpand 是否展开\r\n   * @key 受影响的行数据key\r\n   */\r\n  onExpandChange = (isExpand, key) => {\r\n    isExpand === true ? this.collapse(key) : this.expand(key);\r\n  };\r\n\r\n  /**\r\n   * 展开\r\n   */\r\n  expand = key => {\r\n    let { expandedKeys } = this.state;\r\n\r\n    let nextExpandedKeys = [...expandedKeys];\r\n\r\n    let i = expandedKeys.indexOf(key);\r\n\r\n    if (i === -1) {\r\n      nextExpandedKeys.push(key);\r\n    }\r\n\r\n    this.setState({\r\n      expandedKeys: nextExpandedKeys\r\n    });\r\n\r\n    if (typeof this.props.loadChildrenData === \"function\") {\r\n      this.loadChildrenData(key);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * 折叠\r\n   */\r\n  collapse = key => {\r\n    let { expandedKeys } = this.state;\r\n\r\n    let nextExpandedKeys = [...expandedKeys];\r\n\r\n    let i = expandedKeys.indexOf(key);\r\n\r\n    if (i > -1) {\r\n      nextExpandedKeys.splice(i, 1);\r\n    }\r\n\r\n    this.setState({\r\n      expandedKeys: nextExpandedKeys\r\n    });\r\n  };\r\n\r\n  /**\r\n   * 设置行的子级加载状态\r\n   */\r\n  setLoadingChildren = (key, bl, callback) => {\r\n    let { loadingKeys } = this.state;\r\n\r\n    let i = loadingKeys.indexOf(key);\r\n\r\n    let nextKeys = [...loadingKeys];\r\n\r\n    if (bl === true) {\r\n      if (i === -1) {\r\n        nextKeys.push(key);\r\n      }\r\n    } else {\r\n      if (i > -1) {\r\n        nextKeys.splice(i, 1);\r\n      }\r\n    }\r\n\r\n    return this.setState({ loadingKeys: nextKeys }, callback);\r\n  };\r\n\r\n  /**\r\n   * 异步加载子级数据\r\n   */\r\n  loadChildrenData = key => {\r\n    let { dataList, rowKey } = this.state;\r\n\r\n    let row = dataList.find(d => d[rowKey] === key);\r\n\r\n    let res = this.props.loadChildrenData(row);\r\n\r\n    if (res && res.constructor.name === \"Promise\") {\r\n      this.setLoadingChildren(key, true);\r\n\r\n      res.then(childrens => {\r\n        if (childrens) {\r\n          row.children = childrens;\r\n        }\r\n\r\n        this.setLoadingChildren(key, false);\r\n      });\r\n\r\n      res.catch(e => {\r\n        this.setLoadingChildren(key, false);\r\n      });\r\n    }\r\n  };\r\n\r\n  onBodyScroll = ({ scrollLeft }) => {\r\n    let head = this.headRef;\r\n    head && head.scrollTo({ scrollLeft });\r\n  };\r\n\r\n  render() {\r\n    let {\r\n      columns,\r\n      columnLeafs,\r\n      dataList,\r\n      rowKey,\r\n      expandedKeys,\r\n      loadingKeys,\r\n      loading\r\n    } = this.state;\r\n\r\n    return (\r\n      <div className=\"tablex\">\r\n        <div className=\"tablex-head\" >\r\n          <TableHead\r\n            columns={columns}\r\n            columnLeafs={columnLeafs}\r\n            initRef={ins => (this.headRef = ins)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"tablex-body\">\r\n          <TableBody\r\n            rowKey={rowKey}\r\n            columns={columns}\r\n            columnLeafs={columnLeafs}\r\n            dataSource={dataList}\r\n            onScroll={this.onBodyScroll}\r\n            onExpandChange={this.onExpandChange}\r\n            expandedKeys={expandedKeys}\r\n            loadingKeys={loadingKeys}\r\n            scrollbarWidth={scrollbarWidth}\r\n          />\r\n          {dataList.length === 0 ? <NoDataMsg /> : null}\r\n          {loading === true ? <LoadingMsg /> : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTable.defaultProps = {\r\n  columns: [],\r\n  dataSource: [],\r\n  loading: false\r\n};\r\n\r\nTable.propTypes = {\r\n  /**\r\n   * 表格列\r\n   *\r\n   */\r\n  columns: PropTypes.array.isRequired,\r\n\r\n  /**\r\n   * 表格数据\r\n   */\r\n  dataSource: PropTypes.array.isRequired,\r\n  /** 数据行主键字段\r\n   * 主要用于行展开\r\n   */\r\n  rowKey: PropTypes.string.isRequired,\r\n  /** 行展开变化事件\r\n   * @expandedRows 展开的行\r\n   */\r\n  onExpandedRowsChange: PropTypes.func,\r\n  rowIndent: PropTypes.number,\r\n  expandedKeys: PropTypes.array,\r\n  loadChildrenData: PropTypes.func,\r\n  loading: PropTypes.bool\r\n};\r\n\r\nexport default Table;\r\n"]}]}