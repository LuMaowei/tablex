{"remainingRequest":"/home/nexx/develop/tablex/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/nexx/develop/tablex/node_modules/babel-loader/lib/index.js??ref--5-2!/home/nexx/develop/tablex/node_modules/source-map-loader/index.js!/home/nexx/develop/tablex/src/base/fixedHead.js","dependencies":[{"path":"/home/nexx/develop/tablex/src/base/fixedHead.js","mtime":1556974654098},{"path":"/home/nexx/develop/tablex/node_modules/cache-loader/dist/cjs.js","mtime":1555838893487},{"path":"/home/nexx/develop/tablex/node_modules/thread-loader/dist/cjs.js","mtime":1555838894922},{"path":"/home/nexx/develop/tablex/node_modules/babel-loader/lib/index.js","mtime":1555838893306},{"path":"/home/nexx/develop/tablex/node_modules/source-map-loader/index.js","mtime":1555838894829}],"contextDependencies":[],"result":["import _classCallCheck from\"/home/nexx/develop/tablex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nexx/develop/tablex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/nexx/develop/tablex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/nexx/develop/tablex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/nexx/develop/tablex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import TableHead from\"./head\";import{treeToList}from\"../helper\";var TableHeadWithFixed=/*#__PURE__*/function(_React$Component){_inherits(TableHeadWithFixed,_React$Component);function TableHeadWithFixed(){var _getPrototypeOf2;var _this;_classCallCheck(this,TableHeadWithFixed);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(TableHeadWithFixed)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.headRef=React.createRef();_this.getColumns=function(arr){var DEFAULT_COLUMN_WIDTH=100;var left=[];var leftWidth=0;var middle=[];var middleWidth=0;var right=[];var rightWidth=0;for(var i=0;i<arr.length;i++){var d=arr[i];if(d.fixed===\"left\"){left.push(d);}else if(d.fixed===\"right\"){right.push(d);}else{middle.push(d);}}var _treeToList=treeToList(left),leftColumnLeafs=_treeToList.leafs;var _treeToList2=treeToList(middle),middleColumnLeafs=_treeToList2.leafs;var _treeToList3=treeToList(right),rightColumnLeafs=_treeToList3.leafs;leftColumnLeafs.forEach(function(d){leftWidth=leftWidth+(d.width||DEFAULT_COLUMN_WIDTH);});middleColumnLeafs.forEach(function(d){middleWidth=middleWidth+(d.width||DEFAULT_COLUMN_WIDTH);});rightColumnLeafs.forEach(function(d){rightWidth=rightWidth+(d.width||DEFAULT_COLUMN_WIDTH);});return{leftColumns:left.concat(middle,right),leftColumnLeafs:leftColumnLeafs.concat(middleColumnLeafs,rightColumnLeafs),leftColumnsWidth:leftWidth,middleColumns:middle.concat(left,right),middleColumnsWidth:middleWidth,middleColumnLeafs:middleColumnLeafs.concat(leftColumnLeafs,rightColumnLeafs),rightColumns:right.concat(left,middle),rightColumnsWidth:rightWidth,rightColumnLeafs:rightColumnLeafs.concat(leftColumnLeafs,middleColumnLeafs)};};_this.onMiddleScroll=function(_ref){var scrollLeft=_ref.scrollLeft,scrollTop=_ref.scrollTop;_this.refs.leftTable.scrollTo({scrollLeft:0,scrollTop:scrollTop});if(typeof _this.props.onScroll===\"function\"){_this.props.onScroll({scrollLeft:scrollLeft,scrollTop:scrollTop});}};_this.scrollTo=function(_ref2){var scrollLeft=_ref2.scrollLeft;_this.headRef.current.scrollTo(scrollLeft,0);};return _this;}_createClass(TableHeadWithFixed,[{key:\"componentDidMount\",value:function componentDidMount(){if(typeof this.props.initRef===\"function\"){this.props.initRef(this);}}},{key:\"render\",value:function render(){var _this$props=this.props,columns=_this$props.columns,scrollbarWidth=_this$props.scrollbarWidth;var _this$getColumns=this.getColumns(columns),leftColumns=_this$getColumns.leftColumns,leftColumnsWidth=_this$getColumns.leftColumnsWidth,leftColumnLeafs=_this$getColumns.leftColumnLeafs,middleColumns=_this$getColumns.middleColumns,middleColumnsWidth=_this$getColumns.middleColumnsWidth,middleColumnLeafs=_this$getColumns.middleColumnLeafs,rightColumns=_this$getColumns.rightColumns,rightColumnsWidth=_this$getColumns.rightColumnsWidth,rightColumnLeafs=_this$getColumns.rightColumnLeafs;return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"tablex-head-left\",style:{width:leftColumnsWidth}},React.createElement(TableHead,{columns:leftColumns,columnLeafs:leftColumnLeafs})),React.createElement(\"div\",{className:\"tablex-head-middle\",ref:this.headRef},React.createElement(TableHead,{columns:middleColumns,columnLeafs:middleColumnLeafs})),React.createElement(\"div\",{className:\"tablex-head-right\",style:{width:rightColumnsWidth}},React.createElement(TableHead,{columns:rightColumns,columnLeafs:rightColumnLeafs})));}}]);return TableHeadWithFixed;}(React.Component);export default TableHeadWithFixed;if(typeof TableHeadWithFixed!=='undefined'&&TableHeadWithFixed&&TableHeadWithFixed===Object(TableHeadWithFixed)&&Object.isExtensible(TableHeadWithFixed)){Object.defineProperty(TableHeadWithFixed,'__filemeta',{enumerable:true,configurable:true,value:{name:\"TableHeadWithFixed\",filename:\"src/base/fixedHead.js\"}});}",{"version":3,"sources":["/home/nexx/develop/tablex/src/base/fixedHead.js"],"names":["React","TableHead","treeToList","TableHeadWithFixed","headRef","createRef","getColumns","arr","DEFAULT_COLUMN_WIDTH","left","leftWidth","middle","middleWidth","right","rightWidth","i","length","d","fixed","push","leftColumnLeafs","leafs","middleColumnLeafs","rightColumnLeafs","forEach","width","leftColumns","concat","leftColumnsWidth","middleColumns","middleColumnsWidth","rightColumns","rightColumnsWidth","onMiddleScroll","scrollLeft","scrollTop","refs","leftTable","scrollTo","props","onScroll","current","initRef","columns","scrollbarWidth","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport TableHead from \"./head\";\nimport { treeToList } from \"../helper\";\n\nclass TableHeadWithFixed extends React.Component {\n  headRef = React.createRef();\n\n  getColumns = arr => {\n    let DEFAULT_COLUMN_WIDTH = 100;\n\n    let left = [];\n    let leftWidth = 0;\n\n    let middle = [];\n    let middleWidth = 0;\n\n    let right = [];\n    let rightWidth = 0;\n\n    for (let i = 0; i < arr.length; i++) {\n      const d = arr[i];\n\n      if (d.fixed === \"left\") {\n        left.push(d);\n      } else if (d.fixed === \"right\") {\n        right.push(d);\n      } else {\n        middle.push(d);\n      }\n    }\n\n    let { leafs: leftColumnLeafs } = treeToList(left);\n    let { leafs: middleColumnLeafs } = treeToList(middle);\n    let { leafs: rightColumnLeafs } = treeToList(right);\n\n    leftColumnLeafs.forEach(d => {\n      leftWidth = leftWidth + (d.width || DEFAULT_COLUMN_WIDTH);\n    });\n\n    middleColumnLeafs.forEach(d => {\n      middleWidth = middleWidth + (d.width || DEFAULT_COLUMN_WIDTH);\n    });\n\n    rightColumnLeafs.forEach(d => {\n      rightWidth = rightWidth + (d.width || DEFAULT_COLUMN_WIDTH);\n    });\n\n    return {\n      leftColumns: left.concat(middle, right),\n      leftColumnLeafs: leftColumnLeafs.concat(\n        middleColumnLeafs,\n        rightColumnLeafs\n      ),\n      leftColumnsWidth: leftWidth,\n      middleColumns: middle.concat(left, right),\n      middleColumnsWidth: middleWidth,\n      middleColumnLeafs: middleColumnLeafs.concat(\n        leftColumnLeafs,\n        rightColumnLeafs\n      ),\n      rightColumns: right.concat(left, middle),\n      rightColumnsWidth: rightWidth,\n      rightColumnLeafs: rightColumnLeafs.concat(\n        leftColumnLeafs,\n        middleColumnLeafs\n      )\n    };\n  };\n\n  onMiddleScroll = ({ scrollLeft, scrollTop }) => {\n    this.refs.leftTable.scrollTo({ scrollLeft: 0, scrollTop });\n\n    if (typeof this.props.onScroll === \"function\") {\n      this.props.onScroll({ scrollLeft, scrollTop });\n    }\n  };\n\n  componentDidMount() {\n    if (typeof this.props.initRef === \"function\") {\n      this.props.initRef(this);\n    }\n  }\n\n  scrollTo = ({scrollLeft}) => {\n \n    this.headRef.current.scrollTo(scrollLeft,0);\n  };\n\n  render() {\n    let { columns, scrollbarWidth } = this.props;\n\n    let {\n      leftColumns,\n      leftColumnsWidth,\n      leftColumnLeafs,\n      middleColumns,\n      middleColumnsWidth,\n      middleColumnLeafs,\n      rightColumns,\n      rightColumnsWidth,\n      rightColumnLeafs\n    } = this.getColumns(columns);\n\n    return (\n      <>\n        <div className=\"tablex-head-left\" style={{ width: leftColumnsWidth }}>\n          <TableHead columns={leftColumns} columnLeafs={leftColumnLeafs} />\n        </div>\n        <div\n          className=\"tablex-head-middle\"\n        \n          ref={this.headRef}\n        >\n          <TableHead\n            columns={middleColumns}\n            columnLeafs={middleColumnLeafs}\n           \n          />\n        </div>\n        <div className=\"tablex-head-right\" style={{ width: rightColumnsWidth }}>\n          <TableHead columns={rightColumns} columnLeafs={rightColumnLeafs} />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default TableHeadWithFixed;\n"]}]}