{"remainingRequest":"/home/nexx/develop/tablex/node_modules/thread-loader/dist/cjs.js??ref--5-1!/home/nexx/develop/tablex/node_modules/babel-loader/lib/index.js??ref--5-2!/home/nexx/develop/tablex/node_modules/source-map-loader/index.js!/home/nexx/develop/tablex/src/base/fixedBody.js","dependencies":[{"path":"/home/nexx/develop/tablex/src/base/fixedBody.js","mtime":1557065753329},{"path":"/home/nexx/develop/tablex/node_modules/cache-loader/dist/cjs.js","mtime":1555838893487},{"path":"/home/nexx/develop/tablex/node_modules/thread-loader/dist/cjs.js","mtime":1555838894922},{"path":"/home/nexx/develop/tablex/node_modules/babel-loader/lib/index.js","mtime":1555838893306},{"path":"/home/nexx/develop/tablex/node_modules/source-map-loader/index.js","mtime":1555838894829}],"contextDependencies":[],"result":["import _defineProperty from\"/home/nexx/develop/tablex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/nexx/develop/tablex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/nexx/develop/tablex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/nexx/develop/tablex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/nexx/develop/tablex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/nexx/develop/tablex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import TableBody from\"./body\";import{treeToList}from\"../helper\";var TableBodyWithFixed=/*#__PURE__*/function(_React$Component){_inherits(TableBodyWithFixed,_React$Component);function TableBodyWithFixed(){var _getPrototypeOf2;var _this;_classCallCheck(this,TableBodyWithFixed);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(TableBodyWithFixed)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.getColumns=function(arr){var DEFAULT_COLUMN_WIDTH=100;var left=[];var leftWidth=0;var middle=[];var middleWidth=0;var right=[];var rightWidth=0;for(var i=0;i<arr.length;i++){var d=arr[i];if(d.fixed===\"left\"){left.push(d);}else if(d.fixed===\"right\"){right.push(d);}else{middle.push(d);}}var _treeToList=treeToList(left),leftColumnLeafs=_treeToList.leafs;var _treeToList2=treeToList(middle),middleColumnLeafs=_treeToList2.leafs;var _treeToList3=treeToList(right),rightColumnLeafs=_treeToList3.leafs;leftColumnLeafs.forEach(function(d){leftWidth=leftWidth+(d.width||DEFAULT_COLUMN_WIDTH);});middleColumnLeafs.forEach(function(d){middleWidth=middleWidth+(d.width||DEFAULT_COLUMN_WIDTH);});rightColumnLeafs.forEach(function(d){rightWidth=rightWidth+(d.width||DEFAULT_COLUMN_WIDTH);});return{leftColumns:left,leftColumnLeafs:leftColumnLeafs,leftColumnsWidth:leftWidth,middleColumns:middle,middleColumnsWidth:middleWidth,middleColumnLeafs:middleColumnLeafs,rightColumns:right,rightColumnsWidth:rightWidth,rightColumnLeafs:rightColumnLeafs};};_this.scrollTop=0;_this.onMiddleScroll=function(_ref){var scrollLeft=_ref.scrollLeft,scrollTop=_ref.scrollTop;_this.scrollTop=scrollTop;_this.refs.leftTable.scrollTo({scrollLeft:0,scrollTop:scrollTop});_this.refs.rightTable&&_this.refs.rightTable.scrollTo({scrollLeft:0,scrollTop:scrollTop});if(typeof _this.props.onScroll===\"function\"){_this.props.onScroll({scrollLeft:scrollLeft,scrollTop:scrollTop});}};_this.onSideScroll=function(_ref2){var scrollLeft=_ref2.scrollLeft,scrollTop=_ref2.scrollTop;_this.scrollTop=scrollTop;_this.refs.middleTable.scrollTo({scrollTop:scrollTop});};return _this;}_createClass(TableBodyWithFixed,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){var _this$props=this.props,columns=_this$props.columns,columnLeafs=_this$props.columnLeafs,onScroll=_this$props.onScroll,rowKey=_this$props.rowKey,dataSource=_this$props.dataSource,onExpandChange=_this$props.onExpandChange,expandedKeys=_this$props.expandedKeys,loadingKeys=_this$props.loadingKeys,scrollbarWidth=_this$props.scrollbarWidth;var _this$getColumns=this.getColumns(columns),leftColumns=_this$getColumns.leftColumns,leftColumnsWidth=_this$getColumns.leftColumnsWidth,leftColumnLeafs=_this$getColumns.leftColumnLeafs,middleColumns=_this$getColumns.middleColumns,middleColumnsWidth=_this$getColumns.middleColumnsWidth,middleColumnLeafs=_this$getColumns.middleColumnLeafs,rightColumns=_this$getColumns.rightColumns,rightColumnsWidth=_this$getColumns.rightColumnsWidth,rightColumnLeafs=_this$getColumns.rightColumnLeafs;var attrs={rowKey:rowKey,dataSource:dataSource,onExpandChange:onExpandChange,expandedKeys:expandedKeys,loadingKeys:loadingKeys,scrollbarWidth:scrollbarWidth};var bodyStyles={};var hasRight=rightColumns.length>0;if(hasRight===true){bodyStyles={};}var totalHeight=dataSource.length*35;return React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"tablex-body-left\",style:{width:leftColumnsWidth,marginBottom:scrollbarWidth,overflow:\"hidden\"}},React.createElement(\"div\",{className:\"tablex-body-scroll\",style:_defineProperty({width:leftColumnsWidth,height:\"100%\"},\"width\",\"calc(100% + 6px)\")},React.createElement(TableBody,Object.assign({},attrs,{columns:leftColumns,columnLeafs:leftColumnLeafs,style:{overflowX:\"hidden\"},ref:\"leftTable\",onScroll:this.onSideScroll})))),React.createElement(\"div\",{className:\"tablex-body-middle\",ref:\"middleRef\"},React.createElement(\"div\",{className:\"tablex-body-scroll\",style:{height:\"100%\",width:\"calc(100% + 6px)\"}},React.createElement(TableBody,Object.assign({},attrs,{columns:middleColumns,style:bodyStyles,columnLeafs:middleColumnLeafs,onScroll:this.onMiddleScroll,ref:\"middleTable\"})))),hasRight?React.createElement(\"div\",{className:\"tablex-body-right\",style:{width:rightColumnsWidth,marginBottom:scrollbarWidth}},React.createElement(TableBody,Object.assign({},attrs,{columns:rightColumns,columnLeafs:rightColumnLeafs,style:{overflowX:\"hidden\"},onScroll:this.onSideScroll,ref:\"rightTable\"}))):null);}}]);return TableBodyWithFixed;}(React.Component);export default TableBodyWithFixed;if(typeof TableBodyWithFixed!=='undefined'&&TableBodyWithFixed&&TableBodyWithFixed===Object(TableBodyWithFixed)&&Object.isExtensible(TableBodyWithFixed)){Object.defineProperty(TableBodyWithFixed,'__filemeta',{enumerable:true,configurable:true,value:{name:\"TableBodyWithFixed\",filename:\"src/base/fixedBody.js\"}});}",{"version":3,"sources":["/home/nexx/develop/tablex/src/base/fixedBody.js"],"names":["React","TableBody","treeToList","TableBodyWithFixed","getColumns","arr","DEFAULT_COLUMN_WIDTH","left","leftWidth","middle","middleWidth","right","rightWidth","i","length","d","fixed","push","leftColumnLeafs","leafs","middleColumnLeafs","rightColumnLeafs","forEach","width","leftColumns","leftColumnsWidth","middleColumns","middleColumnsWidth","rightColumns","rightColumnsWidth","scrollTop","onMiddleScroll","scrollLeft","refs","leftTable","scrollTo","rightTable","props","onScroll","onSideScroll","middleTable","columns","columnLeafs","rowKey","dataSource","onExpandChange","expandedKeys","loadingKeys","scrollbarWidth","attrs","bodyStyles","hasRight","totalHeight","marginBottom","overflow","height","overflowX","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport TableBody from \"./body\";\nimport { treeToList } from \"../helper\";\n\nclass TableBodyWithFixed extends React.Component {\n  getColumns = arr => {\n    let DEFAULT_COLUMN_WIDTH = 100;\n\n    let left = [];\n    let leftWidth = 0;\n\n    let middle = [];\n    let middleWidth = 0;\n\n    let right = [];\n    let rightWidth = 0;\n\n    for (let i = 0; i < arr.length; i++) {\n      const d = arr[i];\n\n      if (d.fixed === \"left\") {\n        left.push(d);\n      } else if (d.fixed === \"right\") {\n        right.push(d);\n      } else {\n        middle.push(d);\n      }\n    }\n\n    let { leafs: leftColumnLeafs } = treeToList(left);\n    let { leafs: middleColumnLeafs } = treeToList(middle);\n    let { leafs: rightColumnLeafs } = treeToList(right);\n\n    leftColumnLeafs.forEach(d => {\n      leftWidth = leftWidth + (d.width || DEFAULT_COLUMN_WIDTH);\n    });\n\n    middleColumnLeafs.forEach(d => {\n      middleWidth = middleWidth + (d.width || DEFAULT_COLUMN_WIDTH);\n    });\n\n    rightColumnLeafs.forEach(d => {\n      rightWidth = rightWidth + (d.width || DEFAULT_COLUMN_WIDTH);\n    });\n\n    return {\n      leftColumns: left,\n      leftColumnLeafs,\n      leftColumnsWidth: leftWidth,\n      middleColumns: middle,\n      middleColumnsWidth: middleWidth,\n      middleColumnLeafs,\n      rightColumns: right,\n      rightColumnsWidth: rightWidth,\n      rightColumnLeafs\n    };\n  };\n\n  scrollTop = 0;\n  onMiddleScroll = ({ scrollLeft, scrollTop }) => {\n    this.scrollTop = scrollTop;\n\n    this.refs.leftTable.scrollTo({ scrollLeft: 0, scrollTop });\n    this.refs.rightTable &&\n      this.refs.rightTable.scrollTo({ scrollLeft: 0, scrollTop });\n\n    if (typeof this.props.onScroll === \"function\") {\n      this.props.onScroll({ scrollLeft, scrollTop });\n    }\n  };\n\n  onSideScroll = ({ scrollLeft, scrollTop }) => {\n    this.scrollTop = scrollTop;\n\n    this.refs.middleTable.scrollTo({ scrollTop });\n  };\n\n  componentDidMount() {}\n\n  render() {\n    let {\n      columns,\n      columnLeafs,\n      onScroll,\n      rowKey,\n      dataSource,\n      onExpandChange,\n      expandedKeys,\n      loadingKeys,\n      scrollbarWidth\n    } = this.props;\n\n    let {\n      leftColumns,\n      leftColumnsWidth,\n      leftColumnLeafs,\n      middleColumns,\n      middleColumnsWidth,\n      middleColumnLeafs,\n      rightColumns,\n      rightColumnsWidth,\n      rightColumnLeafs\n    } = this.getColumns(columns);\n\n    let attrs = {\n      rowKey,\n      dataSource,\n      onExpandChange,\n      expandedKeys,\n      loadingKeys,\n      scrollbarWidth\n    };\n\n    let bodyStyles = {};\n\n    let hasRight = rightColumns.length > 0;\n\n    if (hasRight === true) {\n      bodyStyles = {\n\n      };\n    }\n\n    let totalHeight = dataSource.length * 35;\n\n    return (\n      <>\n        <div\n          className=\"tablex-body-left\"\n          style={{\n            width: leftColumnsWidth,\n            marginBottom: scrollbarWidth,\n            overflow: \"hidden\"\n          }}\n        >\n          <div\n            className=\"tablex-body-scroll\"\n            style={{ width: leftColumnsWidth, height: \"100%\",width:\"calc(100% + 6px)\"  }}\n          >\n            <TableBody\n              {...attrs}\n              columns={leftColumns}\n              columnLeafs={leftColumnLeafs}\n              style={{ overflowX: \"hidden\" }}\n              ref=\"leftTable\"\n              onScroll={this.onSideScroll}\n            />\n          </div>\n        </div>\n        <div className=\"tablex-body-middle\" ref=\"middleRef\">\n        <div\n            className=\"tablex-body-scroll\"\n            style={{  height: \"100%\",width:\"calc(100% + 6px)\" }}\n          >\n          <TableBody\n            {...attrs}\n            columns={middleColumns}\n            style={bodyStyles}\n            columnLeafs={middleColumnLeafs}\n            onScroll={this.onMiddleScroll}\n            ref=\"middleTable\"\n          /></div>\n        </div>\n\n        {hasRight ? (\n          <div\n            className=\"tablex-body-right\"\n            style={{ width: rightColumnsWidth, marginBottom: scrollbarWidth }}\n          >\n         <TableBody\n              {...attrs}\n              columns={rightColumns}\n              columnLeafs={rightColumnLeafs}\n              style={{ overflowX: \"hidden\" }}\n              onScroll={this.onSideScroll}\n              ref=\"rightTable\"\n            />\n          </div>\n        ) : null}\n      </>\n    );\n  }\n}\n\nexport default TableBodyWithFixed;\n"]}]}