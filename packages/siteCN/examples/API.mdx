---
name: API方法
---

# API

> Table提供了一些API，可对表格进行快捷操作。通过获取Table的ref进行方法调用，如：tableRef.api.expandAll()
 
## 编辑相关
 
```javascript
api= {
    /** 编辑指定行
     * @rowKeys 数据行key集合
     */
    editRows:(rowKeys=[])=>{},
    /** 编辑所有 */
    editAll: ()=>{},
    /** 
     * 删除数据 
     * @rowKeys 数据行key集合，不传入时，默认删除当前选中的行
     * */
    deleteData:()=>{},
    /** 插入数据 */
    insertData: ({ 
        data = [],//需要插入的行数据集合
        parentKey = "",//所属父级，默认根级
        editing = false, //插入后，是否需要处于编辑状态
        prepend = false, //parentKey有效时可用，可以控制插入的数据在父级的首行还是末行
        scrollTo = true, //插入数据后，是否自动滚动到对应行
        startIndex = -1  //无parentKey时有效，控制数据插入到根级的第几行
    })=>{},
    /** 
     * 修改数据 
     * rows 需要修改的数据（平级），数据中必须包含rowKey
     * */
    modifyData:(rows=[{rowKey,...}])=>{},
    /** 
     * 完成编辑，并提交数据更改
     * 每次调用此方法，都将会触发onEditSave，可以在onEditSave事件中统一对数据进行保存操作
     * */
    completeEdit: ()=>{},
    /** 
     * 取消编辑 
     * 调用此方法后，上次未提交的数据更改将被放弃
     * */
    cancelEdit:()=>{}
 }
```
 
 
## 其他
 
```javascript
api= {
   /** 查找数据行 */
    findData: (fn:(d)=>boolean)=>{},
    /** 筛选数据 */
    filterData: (fn:(d)=>boolean)=>{},
    /** 折叠所有 */
    collapseAll:()=>{},
    /** 展开所有 */
    expandAll: ()=>{},
    /** 展开至指定层级 */
    expandTo:(depth)=>{},
    /** 切换节点展开、折叠状态 */
    expandToggle: (row)=>{},
    /** 选中所有 */
    selectAll: ()=>{},
    /** 取消所有选中 */
    unSelectAll: ()=>{},
    /** 切换节点选中状态 */
    selectToggle: (row)=>{},

    getData:()=>{return data;//当前表格的源数据},
    getAllData:()=>{      
        return {
        data, //当前表格的源数据
        changedData, //改变的行数据
        addedData, //添加的行数据
        currData //当前表格状态显示的数据
      };
    }}

 }
```