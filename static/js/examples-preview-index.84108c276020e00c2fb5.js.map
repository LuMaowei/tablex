{"version":3,"sources":["e:/WebRoot/tablex/packages/site/examples/Preview/preview.js","e:/WebRoot/tablex/packages/site/examples/Preview/index.mdx"],"names":["columns","count","arguments","length","undefined","prefix","props","Array","fill","map","column","columnIndex","Object","objectSpread","key","concat","dataIndex","title","width","generateColumns","fixedColumns","row","rowIndex","reduce","rowData","id","parentId","generateData","fixed","resizable","createData","level","parentKey","maxLevel","index","l","data","i","k","d","column-1","age","address","children","push","createTreeData","childrens","titleRender","react_default","a","createElement","align","halign","maxWidth","Demo","state","loading","expandedRowKeys","expandedRowRender","record","extra","frozen","Date","getTime","onExpandedRowsChange","arr","_this","setState","tableInner","innerRef","ins","scrollToItem","getData","setTimeout","onSelectChange","b","c","orderNumber","render","value","_extra$orders","orders","join","selectionColumn","attrs","es_checkbox","assign","disabled","onChange","e","target","checked","this","Fragment","onClick","style","cursor","marginLeft","lib","tableId","editable","rowKey","checkStrictly","selectMode","selectOnRowClick","defaultExpandedRowKeys","onExpand","r","rowClassName","summary","border","text","type","frozenRender","rowHeight","bottom","cellRender","console","log","onRow2","position","top","zIndex","footerExtra","padding","expandRowHeight","headerRowHeight","minHeight","Component","layoutProps","MDXLayout","MDXContent","_ref","components","objectWithoutProperties","index_es","mdxType","index_esm","__position","__code","__scope","Playground","Props","Preview","height","preview","isMDXComponent"],"mappings":"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","file":"static/js/examples-preview-index.2e361745.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Table } from \"tablex\";\nimport { Checkbox } from \"antd\";\n\nconst generateColumns = (count = 10, prefix = \"column-\", props) =>\n  new Array(count).fill(0).map((column, columnIndex) => ({\n    ...props,\n    key: `${prefix}${columnIndex}`,\n    dataIndex: `${prefix}${columnIndex}`,\n    title: `Column ${columnIndex}`,\n    width: 150\n  }));\n\nconst generateData = (columns, count = 20, prefix = \"row-\") =>\n  new Array(count).fill(0).map((row, rowIndex) => {\n    return columns.reduce(\n      (rowData, column, columnIndex) => {\n        rowData[column.dataIndex] = `Row ${rowIndex} - Col ${columnIndex}`;\n\n        if (rowIndex === 0) {\n          //rowData.children = [];\n        }\n\n        return rowData;\n      },\n      {\n        id: `${prefix}${rowIndex}`,\n        parentId: null\n      }\n    );\n  });\n\nconst columns = generateColumns(10);\nconst data = generateData(columns, 100);\n\nlet fixedColumns = columns.map((column, columnIndex) => {\n  let fixed;\n  if (columnIndex < 2) fixed = \"left\";\n  if (columnIndex > 8) fixed = \"right\";\n\n  return { ...column, resizable: true, fixed };\n});\n\nfixedColumns = [\n  {\n    dataIndex: \"column-1\",\n    key: \"column-1\",\n    title: () => {\n      return \"fn title\";\n    },\n    titleRender: () => {\n      return <span>titleRender</span>;\n    },\n    align: \"left\",\n    halign: \"center\"\n  },\n  {\n    title: \"appellation\",\n    width: 150,\n    halign: \"left\",\n    children: [\n      {\n        dataIndex: \"address\",\n        title: \"name\"\n      },\n      {\n        title: \"nick name\",\n        width: 150,\n        children: [\n          {\n            dataIndex: \"id\",\n            title: \"nick-1\",\n            maxWidth: 300,\n            width: 150\n          },\n          {\n            dataIndex: \"level\",\n            title: \"level\"\n          }\n        ]\n      }\n    ]\n  },\n  {\n    dataIndex: \"age\",\n    key: \"column-4\",\n    title: \"age\"\n  }\n];\n\nfunction createData(level, parentKey, maxLevel, index) {\n  if (level > maxLevel) {\n    return;\n  }\n\n  let l = level;\n  let data = [];\n  for (let i = 0; i < 3; i++) {\n    let k = parentKey + \"-\" + level + \"-\" + i;\n    let d = {\n      id: k,\n      \"column-1\": \"Edward King \" + k,\n      age: 32,\n      level: level,\n      address: \"London, Park Lane no. \" + i\n    };\n\n    if (i === 2) {\n      d.children = createData(l + 1, k, maxLevel, i);\n    }\n\n    data.push(d);\n  }\n  return data;\n}\n\nfunction createTreeData() {\n  let data = [];\n  for (let i = 0; i < 10; i++) {\n    let childrens = createData(0, i, 2);\n    let d = {\n      id: \"\" + i,\n      level: 0,\n      \"column-1\": \"Edward King \" + i,\n      age: i,\n      address: \"London, Park Lane no. \" + i\n    };\n\n    if (i % 3 === 0) {\n      d.children = childrens;\n    }\n\n    data.push(d);\n  }\n\n  return data;\n}\n\nclass Demo extends Component {\n  state = {\n    data: [],\n    loading: false,\n    expandedRowKeys: []\n  };\n\n  componentDidMount() {\n    this.setState({\n      data: createTreeData()\n    });\n  }\n\n  expandedRowRender = (record, index, extra) => {\n    if (extra.frozen === \"none\") {\n      return <div>expandedRowRender{new Date().getTime()}</div>;\n    }\n    return null;\n  };\n\n  onExpandedRowsChange = arr => {\n    this.setState({ expandedRowKeys: arr });\n  };\n\n  tableInner = null;\n  innerRef = ins => {\n    this.tableInner = ins;\n  };\n\n  scrollToItem = () => {\n    if (this.tableInner) {\n      this.tableInner.scrollToItem(13);\n    }\n  };\n\n  getData = () => {\n    this.setState({ loading: true });\n    setTimeout(() => {\n      this.setState({ loading: false, data: createTreeData() });\n    }, 1000);\n  };\n\n  onSelectChange = (a, b, c) => {\n    //console.log(\"onSelectChange:\", b);\n  };\n\n  orderNumber = {\n    title: \"排序\",\n    width: 50,\n    align: \"left\",\n    resizable: true,\n    fixed: \"left\",\n    render: (value, row, index, extra) => {\n      let { orders = [] } = extra;\n      return orders.join(\"-\");\n    }\n  };\n\n  selectionColumn = {\n    fixed: \"left\",\n    title: attrs => {\n      return (\n        <Checkbox\n          {...attrs}\n          disabled={true}\n          onChange={e => {\n            attrs.onChange(e.target.checked);\n          }}\n        />\n      );\n    },\n    render: (row, index, extra) => {\n      return (\n        <Checkbox\n          {...extra}\n          onChange={e => {\n            extra.onChange(e.target.checked);\n          }}\n        />\n      );\n    }\n  };\n\n  render() {\n    return (\n      <>\n        <div>\n          <span onClick={this.scrollToItem} style={{ cursor: \"pointer\" }}>\n            scroll to item\n          </span>\n          <span\n            onClick={this.getData}\n            style={{ cursor: \"pointer\", marginLeft: 10 }}\n          >\n            get data\n          </span>\n        </div>\n        <div>\n          <Table\n            loading={this.state.loading}\n            tableId=\"preview_table\"\n            editable={true}\n            rowKey=\"id\"\n            innerRef={this.innerRef}\n            columns={fixedColumns}\n            checkStrictly={true}\n            selectMode=\"multiple\"\n            selectOnRowClick={false}\n            defaultExpandedRowKeys={[\"0\"]}\n            data={this.state.data}\n            onExpand={(b, r) => {\n              //  console.log(\"onExpand:\", r);\n            }}\n            onExpandedRowsChange={this.onExpandedRowsChange}\n            onSelectChange={this.onSelectChange}\n            rowClassName={() => {\n              // console.log(\"rowClassName\");\n            }}\n            orderNumber={this.orderNumber}\n            selectionColumn={this.selectionColumn}\n            summary={{\n              style: { border: \"none\" },\n              title: { text: \"合计:\", column: \"__checkbox_column\" },\n              data: [\n                {\n                  age: \"sum\",\n                  level: \"min\"\n                }\n              ],\n              render: (value, dataIndex, type, index) => {\n                return type + \":\" + value;\n              }\n            }}\n            frozenRender={{\n              rowHeight: 40,\n              rowKey: \"id\",\n              bottom: [this.state.data[0]],\n              cellRender: (value, row, index, extra) => {\n                console.log(\"cellRender:\", extra);\n                return value;\n              }\n            }}\n            onRow2={(row, index, extra) => {\n              if (index === 4) {\n                return {\n                  style: { position: \"sticky\", top: 0, zIndex: 2 }\n                };\n              } else {\n                if (index < 4) {\n                  return {\n                    style: { top: extra.style.top + 50 }\n                  };\n                }\n              }\n            }}\n            footerExtra={() => {\n              return <div style={{ padding: \"14px 10px\" }}>底部信息展示</div>;\n            }}\n            rowHeight={(d, i) => {\n              if (i % 2 === 0) {\n                return 50;\n              } else {\n                return 30;\n              }\n            }}\n            expandRowHeight={200}\n            headerRowHeight={[30, 40, 60]}\n            minHeight={500}\n          />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Demo;\n","/* @jsx mdx */\n  import React from 'react'\n  import { mdx } from '@mdx-js/react'\n  /* @jsx mdx */\nimport { Playground, Props } from \"docz\";\nimport Preview from \"./preview\";\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h1 {...{\n      \"id\": \"features-preview\"\n    }}>{`Features Preview`}</h1>\n    <h2 {...{\n      \"id\": \"demo\"\n    }}>{`demo`}</h2>\n    <Playground __position={0} __code={'<Preview />'} __scope={{\n      props: this ? this.props : props,\n      Playground,\n      Props,\n      Preview\n    }} style={{\n      height: 600\n    }} mdxType=\"Playground\">\n  <Preview mdxType=\"Preview\" />\n    </Playground>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;\n  "],"sourceRoot":""}