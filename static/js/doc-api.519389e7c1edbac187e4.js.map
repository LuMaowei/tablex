{"version":3,"sources":["e:/WebRoot/tablex/packages/siteCN/doc/API.js","e:/WebRoot/tablex/packages/siteCN/doc/API.mdx"],"names":["CompleteEditFlow","src","BaseUrl","Component","layoutProps","MDXLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"s3BAIMA,E,iLAEF,OACE,6BACE,yBAAKC,IAAKC,8C,GAJaC,a,uOCI/B,IAKMC,EAAc,GAGdC,EAAY,UACH,SAASC,EAAT,GAGX,IAFFC,EAEC,EAFDA,WACGC,EACF,8BACD,OAAO,YAACH,EAAD,iBAAeD,EAAiBI,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAE5E,iBAAQ,CACN,GAAM,OADR,OAGA,8BACE,iBAAGC,WAAW,cAAd,uOAEF,iBAAQ,CACN,GAAM,0DADR,0DAGA,uBAAK,kCAAMA,WAAW,OAAU,CAC5B,UAAa,wBADZ,4lBAaL,iBAAQ,CACN,GAAM,gBADR,gBAGA,iBAAQ,CACN,GAAM,sEADR,sEAGA,8BACE,iBAAGA,WAAW,cAAd,uKAEF,uBAAK,kCAAMA,WAAW,OAAU,CAC5B,UAAa,wBADZ,2rBAiBL,iBAAQ,CACN,GAAM,6DADR,6DAGA,8BACE,iBAAGA,WAAW,cAAd,kMAEF,uBAAK,kCAAMA,WAAW,OAAU,CAC5B,UAAa,wBADZ,25EAmDL,iBAAQ,CACN,GAAM,2CADR,4CAGA,YAAC,EAAD,CAAkBD,QAAQ,qBAC1B,iBAAQ,CACN,GAAM,gBADR,gBAGA,uBAAK,kCAAMC,WAAW,OAAU,CAC5B,UAAa,wBADZ,26C,kKA2CTJ,EAAWK,gBAAiB","file":"static/js/doc-api.0aa15982.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nlet BaseUrl = process.env.DOCZ_BASE || \"\";\r\n\r\nclass CompleteEditFlow extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <img src={BaseUrl + \"/public/completeEdit-flow.png\"} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { CompleteEditFlow };\r\n","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsx mdx */\nimport { Playground, Props } from \"docz\";\nimport { CompleteEditFlow } from \"./API\";\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h1 {...{\n      \"id\": \"api\"\n    }}>{`API`}</h1>\n    <blockquote>\n      <p parentName=\"blockquote\">{`Table提供了一些API，可对表格进行快捷操作。通过获取Table的ref进行方法调用，如：tableRef.api.expandAll()`}</p>\n    </blockquote>\n    <h2 {...{\n      \"id\": \"树形、平级数据转换\"\n    }}>{`树形、平级数据转换`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`\nimport Table, { flatten, unflatten } from \"tablex\";\n\n//树形数据转换为平级数据，treeData为包含children字段的数组\n//list：平级数据，leafs：所有叶节点，roots：所有根节点\nlet {list, leafs, roots} = flatten(treeData);\n\n//平级数据转树形数据，id、parentId为flatData中标识子父关系的字段名称\nlet treeData = unflatten(flatData,\"id\",\"parentId\");\n\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"编辑\"\n    }}>{`编辑`}</h2>\n    <h3 {...{\n      \"id\": \"手动触发默认的编辑动作\"\n    }}>{`手动触发默认的编辑动作`}</h3>\n    <blockquote>\n      <p parentName=\"blockquote\">{`以下api均同内置的编辑按钮组行为一致，可通过以下api手动触发`}</p>\n    </blockquote>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`api = {\n     /** 添加n行数据,这将会调用rowTemplate函数-同默认按钮动作 */\n    addRange: (n:number)=>{},\n    /** 添加数据行-同默认按钮动作 */\n    addRows:(rows:[])=>{},\n    /** 删除选中数据-同默认按钮动作 */\n    delete: ()=>{},\n    /** 编辑所有数据-同默认按钮动作 */\n    edit:()=>{},\n    /** 取消编辑 */\n    cancelEdit:()=>{},\n    /** 编辑保存，将会触发onEditSave事件 */\n    saveEdit:()=>{}\n }\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"使用内置api自定义编辑\"\n    }}>{`使用内置api自定义编辑`}</h3>\n    <blockquote>\n      <p parentName=\"blockquote\">{`使用api自定义编辑时与表格内置的编辑按钮组具有不同的行为，请勿混用`}</p>\n    </blockquote>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`api = {\n    /** 编辑指定行\n     * @rowKeys 数据行key集合\n     */\n    editRows:(rowKeys:string[])=>{},\n    /** 编辑所有 */\n    editAll: ()=>{},\n    /** \n     * 删除数据 \n     * @rowKeys 数据行key集合，不传入时，默认删除当前选中的行\n     * */\n    deleteData:(rowKeys:string[])=>{},\n    /** 插入数据 */\n    insertData: ({ \n        data = [],//需要插入的行数据集合\n        parentKey = \"\",//所属父级，默认根级\n        editing = false, //插入后，是否需要处于编辑状态\n        prepend = false, //parentKey有效时可用，可以控制插入的数据在父级的首行还是末行\n        scrollTo = true, //插入数据后，是否自动滚动到对应行\n        startIndex = -1  //无parentKey时有效，控制数据插入到根级的第几行\n    })=>{},\n    /** \n     * 修改数据 \n     * rows 需要修改的数据（平级），数据中必须包含rowKey\n     * */\n    modifyData:(rows:[{rowKey,...}])=>{},\n    /** \n     * 完成编辑，并提交数据更改\n     * 每次调用此方法，都将会触发onComplete，可以在onComplete事件中统一对数据进行保存操作\n     * */\n    completeEdit: ()=>{},\n    /** \n     * 取消编辑 \n     * 调用此方法后，上次未提交的数据更改将被放弃\n     * */\n    cancelEdit:()=>{},\n    /**\n     * 获取编辑后的数据，同onComplete中返回的数据一致\n     * */\n    getDataState:()=>{\n      return {\n        data,//编辑后的数据\n        inserted,//新增的数据\n        changed,//修改的数据\n        deleted//删除的数据\n      }\n    }\n }\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"apicompleteedit执行流程\"\n    }}>{`api.completeEdit执行流程`}</h3>\n    <CompleteEditFlow mdxType=\"CompleteEditFlow\" />\n    <h2 {...{\n      \"id\": \"其他\"\n    }}>{`其他`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-javascript\"\n      }}>{`api= {\n   /** 查找数据行 */\n    findData: (fn:(d)=>boolean)=>{},\n    /** 筛选数据 */\n    filterData: (fn:(d)=>boolean)=>{},\n    /** 折叠所有 */\n    collapseAll:()=>{},\n    /** 展开所有 */\n    expandAll: ()=>{},\n    /** 展开至指定层级 */\n    expandTo:(depth:number)=>{},\n    /** 切换节点展开、折叠状态 */\n    expandToggle: (row)=>{},\n    /** 选中所有 */\n    selectAll: ()=>{},\n    /** 取消所有选中 */\n    unSelectAll: ()=>{},\n    /** 切换节点选中状态,影响子级 */\n    selectToggle: (row)=>{},\n\n    getData:()=>{return data;},//当前表格的源数据\n    getAllData:()=>{      \n        return {\n        data, //当前表格的源数据\n        changedData, //改变的行数据\n        addedData, //添加的行数据\n        currData //当前表格状态显示的数据\n      };\n    },\n\n    /** 滚动到指定索引的行 */\n    scrollToItem: (index:number,align:\"auto\"|\"center\"|\"start\"|\"end\")=>{},\n    /** 滚动到指定rowKey的行 */\n    scrollToRow: (rowKey:string,align:\"auto\"|\"center\"|\"start\"|\"end\")=>{}\n\n }\n`}</code></pre>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"],"sourceRoot":""}